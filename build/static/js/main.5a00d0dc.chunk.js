(this.webpackJsonpfeasti=this.webpackJsonpfeasti||[]).push([[0],{107:function(e,t,c){},108:function(e,t,c){},155:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c.n(a),n=c(89),r=(c(68),c(107),c(108),c(3)),l=c(14),i=c(20),j=Object(i.a)(),d=c(100),o=c(21),b=c(1);function u(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!0),l=Object(r.a)(n,2),i=l[0],j=l[1];return Object(b.jsx)("nav",{className:"navbar-static-side ".concat(i?"":"sidebar-collapsed"),children:Object(b.jsxs)("div",{className:"sidebar-collapse",children:[Object(b.jsxs)("div",{className:"nav-header",children:[Object(b.jsx)("span",{className:"logo-name "+(i?"":"hidden"),children:"Feasti"}),Object(b.jsx)("span",{className:"nav-toggler",onClick:function(){j(!i),s(!c)},children:Object(b.jsx)(o.h,{size:24,color:"#FFFFFF"})})]}),Object(b.jsx)("div",{className:"sidebar-body",children:Object(b.jsxs)(d.a,{id:"side-menu",children:[Object(b.jsxs)(d.a.Link,{href:"/",className:"nav-label",children:[Object(b.jsx)(o.c,{size:18}),Object(b.jsx)("span",{className:i?"links-name-side":"sr-only",children:"Dashboard"})]}),Object(b.jsxs)(d.a.Link,{href:"/users",className:"nav-label",children:[Object(b.jsx)(o.i,{size:18}),Object(b.jsx)("span",{className:i?"links-name-side":"sr-only",children:"Users"})]}),Object(b.jsxs)(d.a.Item,{children:[Object(b.jsxs)(d.a.Link,{className:"nav-label","aria-expanded":c,onClick:function(){return s(!c)},children:[Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)(o.l,{size:18}),Object(b.jsx)("span",{className:i?"links-name-side":"sr-only",children:"Restaurant"})]}),Object(b.jsx)("div",{className:i?"":"d-none",children:c?Object(b.jsx)(o.e,{size:18}):Object(b.jsx)(o.f,{size:18})})]}),Object(b.jsxs)("div",{className:"nav-second-level","aria-hidden":!c,children:[Object(b.jsxs)(d.a.Link,{href:"/restaurant",className:"nav-label",children:[Object(b.jsx)(o.n,{size:18}),Object(b.jsx)("span",{className:i?"links-name-side":"sr-only",children:"Dashboard"})]}),Object(b.jsxs)(d.a.Link,{href:"/add_restaurant",className:"nav-label",children:[Object(b.jsx)(o.j,{size:18}),Object(b.jsx)("span",{className:i?"links-name-side":"sr-only",children:"Add New Restaurant"})]})]})]}),Object(b.jsxs)(d.a.Link,{href:"/orders",className:"nav-label",children:[Object(b.jsx)(o.k,{size:18}),Object(b.jsx)("span",{className:i?"links-name-side":"sr-only",children:"Orders"})]}),Object(b.jsxs)(d.a.Link,{href:"/coupons",className:"nav-label",children:[Object(b.jsx)(o.d,{size:18}),Object(b.jsx)("span",{className:i?"links-name-side":"sr-only",children:"Coupons"})]}),Object(b.jsxs)(d.a.Link,{href:"/campaign",className:"nav-label",children:[Object(b.jsx)(o.b,{size:18}),Object(b.jsx)("span",{className:i?"links-name-side":"sr-only",children:"Campaigns"})]}),Object(b.jsxs)(d.a.Link,{href:"/payments",className:" nav-label",children:[Object(b.jsx)(o.a,{size:18}),Object(b.jsx)("span",{className:i?"links-name-side":"sr-only",children:"Payments"})]}),Object(b.jsxs)(d.a.Link,{href:"/contacts",className:" nav-label",children:[Object(b.jsx)(o.g,{size:18}),Object(b.jsx)("span",{className:i?"links-name-side":"sr-only",children:"Contacts and Supports"})]}),Object(b.jsxs)(d.a.Link,{href:"/review",className:" nav-label",children:[Object(b.jsx)(o.o,{size:18}),Object(b.jsx)("span",{className:i?"links-name-side":"sr-only",children:"Reviews"})]}),Object(b.jsxs)(d.a.Link,{href:"/setting",className:" nav-label",children:[Object(b.jsx)(o.m,{size:18}),Object(b.jsx)("span",{className:i?"links-name-side":"sr-only",children:"Setting"})]})]})})]})})}var m=c(4),O=c(6),h=c(7),x=c.n(h),p=c(58);function f(e){var t=e.setLoggedIn,c=Object(a.useState)([]),s=Object(r.a)(c,2),n=s[0],l=s[1],i=Object(a.useState)(0),j=Object(r.a)(i,2),d=j[0],o=j[1];Object(a.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c,a,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/partnerrequest/getPending");case 2:t=e.sent,c=t.data,a=c.numRequests,(s=c.partnerRequests).length=5,l(s),o(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(b.jsxs)("nav",{className:"navbar-static-top pb-1 pt-3",children:[Object(b.jsx)("div",{className:"nav-actions pb-2 d-lg-none d-xl-none",children:Object(b.jsx)(p.a,{size:18,color:"#1872ab"})}),Object(b.jsx)("div",{className:"d-lg-block d-xl-block"}),Object(b.jsxs)("div",{className:"top-nav-links",children:[Object(b.jsx)("div",{className:"nav-actions mx-4",children:Object(b.jsxs)("div",{className:"partner-dropdown",children:[Object(b.jsx)("span",{className:"fa-stack fa-1x","data-count":d,children:Object(b.jsx)(p.b,{size:18,color:"#1872ab"})}),Object(b.jsx)("div",{className:"partner-dropdown-content dropdown-message-box px-0",children:n.map((function(e,t){return Object(b.jsx)("li",{className:"dropdown-item",children:Object(b.jsx)("a",{className:"dropdown-item",href:"/newrequest/".concat(e._id),children:Object(b.jsx)("small",{className:"text-success",children:"New request from "+e.first_name+" "+e.last_name})})},t)}))})]})}),Object(b.jsx)("div",{className:"nav-actions pb-2",children:Object(b.jsxs)("a",{href:"/",onClick:function(){t(!1)},"data-tooltip":"Logout",className:"d-flex align-items-center",children:[Object(b.jsx)(p.c,{size:18}),Object(b.jsx)("span",{className:"log-out",children:" Log out"})]})})]})]})}function v(){var e=Object(a.useState)(0),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(0),l=Object(r.a)(n,2),i=l[0],j=l[1],d=Object(a.useState)(0),o=Object(r.a)(d,2),u=o[0],h=o[1],p=Object(a.useState)(0),f=Object(r.a)(p,2),v=f[0],N=f[1],g=Object(a.useState)(0),y=Object(r.a)(g,2),w=y[0],_=y[1],S=Object(a.useState)(0),C=Object(r.a)(S,2),k=C[0],T=C[1],D=Object(a.useState)(0),A=Object(r.a)(D,2),F=A[0],M=A[1],E=Object(a.useState)(0),I=Object(r.a)(E,2),P=I[0],R=I[1],q=Object(a.useState)(0),$=Object(r.a)(q,2),B=$[0],L=$[1],V=Object(a.useState)(0),z=Object(r.a)(V,2),U=z[0],K=z[1],H=Object(a.useState)(0),Y=Object(r.a)(H,2),W=Y[0],G=Y[1],J=Object(a.useState)(0),Q=Object(r.a)(J,2),X=Q[0],Z=Q[1],ee=Object(a.useState)(0),te=Object(r.a)(ee,2),ce=te[0],ae=te[1],se=Object(a.useState)(0),ne=Object(r.a)(se,2),re=ne[0],le=ne[1],ie=Object(a.useState)(0),je=Object(r.a)(ie,2),de=je[0],oe=je[1],be=Object(a.useState)(0),ue=Object(r.a)(be,2),me=ue[0],Oe=ue[1],he=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c,a,n,r,l,i,d,o,b,u,O,p,f,v,g,y,w,S,C,k,D;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/calculations/revenue/");case 2:return t=e.sent,e.next=5,x.a.get("/api/calculations/orders");case 5:c=e.sent,a=t.data,n=a.mealrevenue,r=a.totaldelivery,l=a.totalservicefee,i=a.tips,d=a.baserevenue,o=a.base_commission,b=a.taxes,u=a.discount,O=a.totalrevenue,p=a.add_on_total,f=a.add_on_commission,s(n),h(r),j(l),N(i),_(b),T(u),M(O),le(d),v=parseFloat(o)+parseFloat(f),Oe(v),oe(p),g=c.data,y=g.totalorders,w=g.pendingorders,S=g.acceptedorders,C=g.runningorders,k=g.completedorders,D=g.rejectedorders,Z(D),L(S),K(C),R(w),G(k),ae(y);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=!0;return e&&he(),function(){e=!1}}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsx)("h5",{children:"Order Statistics"})}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsxs)("div",{className:"row justify-content-between mb-1",children:[Object(b.jsx)("div",{className:"card col-4 bg-primary",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Total Orders"}),Object(b.jsx)("h1",{className:"no-margins",children:ce})]})}),Object(b.jsx)("div",{className:"card col-4 bg-warning",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Pending"}),Object(b.jsx)("h1",{className:"no-margins",children:P})]})}),Object(b.jsx)("div",{className:"card col-4 bg-info",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"In Progress"}),Object(b.jsx)("h1",{className:"no-margins",children:U})]})})]}),Object(b.jsxs)("div",{className:"row justify-content-between mb-1",children:[Object(b.jsx)("div",{className:"card col-4 bg-success",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Completed"}),Object(b.jsx)("h1",{className:"no-margins",children:W})]})}),Object(b.jsx)("div",{className:"card col-4 bg-danger",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Rejected"}),Object(b.jsx)("h1",{className:"no-margins",children:X})]})}),Object(b.jsx)("div",{className:"card col-4 bg-secondary",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Accepted"}),Object(b.jsx)("h1",{className:"no-margins text-white",children:B})]})})]})]})]})}),Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("h5",{className:"d-inline",children:"Total Order Revenue"}),Object(b.jsxs)("h5",{className:"d-inline text-bold text-black",children:[" ","$",F]}),Object(b.jsx)("div",{className:"ibox-tools",children:Object(b.jsx)("small",{children:"TR = CP+SF+DF+Tips+Taxes-AD"})})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsxs)("div",{className:"row justify-content-between mb-1",children:[Object(b.jsx)("div",{className:"card col-4 bg-primary p-2",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Meal Plan"}),Object(b.jsxs)("h3",{className:"no-margins",children:["$",parseFloat(c).toFixed(2)]})]})}),Object(b.jsx)("div",{className:"card col-4 bg-warning p-2",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Service Charges"}),Object(b.jsxs)("h3",{className:"no-margins",children:["$",parseFloat(i).toFixed(2)]})]})}),Object(b.jsx)("div",{className:"card col-lg-4 bg-info p-2",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Delivery Charges"}),Object(b.jsxs)("h3",{className:"no-margins",children:["$",parseFloat(u).toFixed(2)]})]})})]}),Object(b.jsxs)("div",{className:"row justify-content-between mb-1",children:[Object(b.jsx)("div",{className:"card col-4 bg-success p-2",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Tip"}),Object(b.jsxs)("h3",{className:"no-margins",children:["$",parseFloat(v).toFixed(2)]})]})}),Object(b.jsx)("div",{className:"card col-4 bg-danger p-2",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Taxes"}),Object(b.jsxs)("h3",{className:"no-margins",children:["$",parseFloat(w).toFixed(2)]})]})}),Object(b.jsx)("div",{className:"card col-4 bg-secondary p-2",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Admin Discount"}),Object(b.jsxs)("h3",{className:"no-margins text-white",children:["$",parseFloat(k).toFixed(2)]})]})})]})]})]})})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsxs)("h5",{children:["Commission Revenue $",parseFloat(me).toFixed(2)]})}),Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsxs)("div",{className:"row justify-content-between mt-1",children:[Object(b.jsx)("div",{className:"card col-lg-6 bg-success",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Base Price"}),Object(b.jsxs)("h1",{className:"no-margins",children:["$",re]})]})}),Object(b.jsx)("div",{className:"card col-lg-6 bg-danger",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Add Ons"}),Object(b.jsxs)("h1",{className:"no-margins",children:["$",de]})]})})]})})]})}),Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsx)("h5",{children:"Campaign Revenue($)"})}),Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsx)("div",{className:"row justify-content-between mt-1",children:Object(b.jsx)("div",{className:"card col-lg-12 bg-success",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Banner Marketing"}),Object(b.jsx)("h1",{className:"no-margins",children:"$0"})]})})})})]})})]}),Object(b.jsx)("div",{className:"row mx-1",children:Object(b.jsxs)("div",{className:"ibox col-12",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsxs)("h5",{children:["Feasti Revenue $",parseFloat(.1*re).toFixed(2)]})}),Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsx)("div",{className:"row justify-content-between mt-1",children:Object(b.jsx)("div",{className:"card bg-success",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"text-white",children:"Net Income"}),Object(b.jsxs)("h1",{className:"no-margins",children:["$",parseFloat(c-re+.1*re+u+i+w+v-k).toFixed(2)]})]})})})})]})})]})}var N=c(11),g="GET_RESTAURANT",y="SET_RESTAURANT",w="SET_ID",_="SET_RESTAURANT_ID",S="EDIT_BASIC_INFO",C="EDIT_PAPERS",k="EDIT_MEALS",T="SET_MEALS",D="SET_PROFIT_MARGINS",A="GET_REQUESTS",F="GET_PLANS",M="EDIT_PLANS",E=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/partnerrequest/");case 2:c=e.sent,a=c.data,t({type:A,payload:a.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function I(e){var t=e.title,c=e.value,a=e.status,s=e.description;return Object(b.jsx)("div",{className:"col-lg-3",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsx)("h5",{className:"".concat(a),children:t})}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h1",{className:"no-margins",children:c}),Object(b.jsx)("small",{children:s})]})]})})}function P(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.requests})),c=Object(a.useState)(0),s=Object(r.a)(c,2),n=s[0],l=s[1],i=Object(a.useState)(0),j=Object(r.a)(i,2),d=j[0],o=j[1],u=Object(a.useState)(0),h=Object(r.a)(u,2),p=h[0],f=h[1],v=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c,a,s,n,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/calculations/orders");case 2:return t=e.sent,c=t.data.totalorders,l(c),e.next=7,x.a.get("/api/users");case 7:return a=e.sent,s=a.data,f(s.length),e.next=12,x.a.get("/api/calculations/restaurants");case 12:n=e.sent,r=n.data.totalrestaurants,o(r);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){e(E)}),[e]),Object(a.useEffect)((function(){var e=!0;return e&&v(),function(){e=!1}}),[n,d,p]),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(I,{title:"Requests",description:"Total requests from chef",value:Object.keys(t).length,status:"text-secondary"}),Object(b.jsx)(I,{title:"Users",description:"Total users",value:p,status:"text-secondary"}),Object(b.jsx)(I,{title:"Orders",description:"Total orders received",value:n,status:"text-secondary"}),Object(b.jsx)(I,{title:"Restaurants",description:"Total onboarded Restaurants",value:d,status:"text-secondary"})]})}function R(){return Object(b.jsxs)("div",{className:"wrapper wrapper-content",children:[Object(b.jsx)(P,{}),Object(b.jsx)(v,{})]})}var q=c(5),$=c(36),B=c.n($),L=c(12),V=c(17),z=c.n(V),U=c(26),K={headRow:{style:{borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:L.defaultThemes.default.divider.default}},headCells:{style:{fontSize:14,fontWeight:"bold",color:"#268bdf","&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",padding:4,borderRightColor:L.defaultThemes.default.divider.default}}},cells:{style:{textAlign:"center",width:"fit-content","&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",padding:4,borderRightColor:L.defaultThemes.default.divider.default}}},pagination:{style:{color:L.defaultThemes.default.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:L.defaultThemes.default.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:L.defaultThemes.default.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:L.defaultThemes.default.button.default,fill:L.defaultThemes.default.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:L.defaultThemes.default.button.disabled,fill:L.defaultThemes.default.button.disabled},"&:hover:not(:disabled)":{backgroundColor:L.defaultThemes.default.button.hover},"&:focus":{outline:"none",backgroundColor:L.defaultThemes.default.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:L.defaultThemes.default.text.primary,backgroundColor:L.defaultThemes.default.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:L.defaultThemes.default.text.primary,backgroundColor:L.defaultThemes.default.background.default}}},H={headRow:{style:{borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:L.defaultThemes.default.divider.default}},headCells:{style:{fontSize:12,fontWeight:"bold",color:"#268bdf","&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",padding:2,borderRightColor:L.defaultThemes.default.divider.default}}},cells:{style:{textAlign:"center",fontSize:"12px","&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",padding:2,borderRightColor:L.defaultThemes.default.divider.default}}},pagination:{style:{color:L.defaultThemes.default.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:L.defaultThemes.default.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:L.defaultThemes.default.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:L.defaultThemes.default.button.default,fill:L.defaultThemes.default.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:L.defaultThemes.default.button.disabled,fill:L.defaultThemes.default.button.disabled},"&:hover:not(:disabled)":{backgroundColor:L.defaultThemes.default.button.hover},"&:focus":{outline:"none",backgroundColor:L.defaultThemes.default.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:L.defaultThemes.default.text.primary,backgroundColor:L.defaultThemes.default.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:L.defaultThemes.default.text.primary,backgroundColor:L.defaultThemes.default.background.default}}},Y={headRow:{style:{borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:L.defaultThemes.default.divider.default}},headCells:{style:{fontSize:12,fontWeight:"bold",color:"#268bdf","&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",padding:2,borderRightColor:L.defaultThemes.default.divider.default}}},cells:{style:{textAlign:"center",fontSize:"12px","&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",padding:2,borderRightColor:L.defaultThemes.default.divider.default}}},pagination:{style:{color:L.defaultThemes.default.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:L.defaultThemes.default.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:L.defaultThemes.default.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:L.defaultThemes.default.button.default,fill:L.defaultThemes.default.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:L.defaultThemes.default.button.disabled,fill:L.defaultThemes.default.button.disabled},"&:hover:not(:disabled)":{backgroundColor:L.defaultThemes.default.button.hover},"&:focus":{outline:"none",backgroundColor:L.defaultThemes.default.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:L.defaultThemes.default.text.primary,backgroundColor:L.defaultThemes.default.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:L.defaultThemes.default.text.primary,backgroundColor:L.defaultThemes.default.background.default}}},W=[{name:"ID",selector:function(e){return e.user_id},sortable:!0,width:"92px"},{name:"Name",selector:function(e){return e.first_name+" "+e.last_name},sortable:!0},{name:"Email",selector:function(e){return e.email_id},sortable:!0},{name:"Mobile",selector:function(e){return e.phone},sortable:!0},{name:"Status",selector:function(e){return e.status},sortable:!0,width:"92px"},{name:"Actions",center:!0,selector:function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("a",{href:"/view_user/".concat(e._id),className:"p-1 ",children:Object(b.jsx)("i",{className:"fa fa-eye text-navy"})}),Object(b.jsx)("a",{href:"/users/".concat(e._id),className:"p-1",children:Object(b.jsx)("i",{className:"fa fa-trash text-danger tx-118-f "})})]})},width:"92px"}],G=[{name:"ID",selector:function(e,t){return e.restaurant_id},sortable:!0},{name:"Name",selector:function(e,t){return e.restaurant_name},sortable:!0},{name:"Email",selector:function(e,t){return e.email},sortable:!0},{name:"Mobile",selector:function(e,t){return e.phone},sortable:!0},{name:"Status",selector:function(e,t){return e.status},sortable:!0},{name:"Country",selector:function(e,t){return e.country},sortable:!0},{name:"Actions",center:!0,selector:function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("a",{href:"/view_restaurant/".concat(e._id),className:"p-1 ",children:Object(b.jsx)("i",{className:"fa fa-eye text-navy"})}),Object(b.jsx)("a",{href:"/edit_restaurant/".concat(e._id),className:"p-1",children:Object(b.jsx)("i",{className:"fa fa-edit text-primary"})}),Object(b.jsx)("a",{href:"/newrest/".concat(e._id),className:"p-1",children:Object(b.jsx)("i",{className:"fa fa-trash text-danger tx-118-f "})})]})}}],J=[{name:"ID",selector:function(e,t){return e.order_id},sortable:!0,width:"9%"},{name:"User",selector:function(e,t){return e.user_name},sortable:!0,width:"10%"},{name:"Rest ID",selector:function(e,t){return e.restaurant_id},sortable:!0,width:"8%"},{name:"Restaurant",selector:function(e,t){return e.restaurant},sortable:!0},{name:"Plan",width:"8%",selector:function(e,t){return e.plan_name},sortable:!0},{name:"Start",selector:"start_date",sortable:!0,width:"10%"},{name:"End",selector:"end_date",sortable:!0,width:"10%"},{name:"Promo",selector:function(e){return"PROMOADMIN"===e.promo_id?e.promo_code:""},width:"8%"},{name:"Discount",selector:function(e){return"PROMOADMIN"===e.promo_id?"$"+parseFloat(e.discount).toFixed(2):""},width:"7%"},{name:"Status",width:"8%",selector:"status",sortable:!0},{name:"Actions",center:!0,width:"7%",selector:function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("a",{href:"/view_order/".concat(e._id),className:"p-1 ",children:Object(b.jsx)("i",{className:"fa fa-eye text-navy"})}),Object(b.jsx)("a",{href:"/orders/".concat(e._id),className:"p-1",children:Object(b.jsx)("i",{className:"fa fa-trash text-danger tx-118-f "})})]})}}],Q=[{name:"ID",selector:function(e){return e.promo_id},sortable:!0},{name:"Restaurant ID",selector:function(e){return e.restaurant_id},sortable:!0},{name:"Plan",selector:function(e){return e.plan_name},sortable:!0},{name:"Category",selector:function(e){return e.category},sortable:!0},{name:"Value",selector:function(e,t){return"%"===e.discount_type?e.discount+"%":"$"+e.discount},sortable:!0},{name:"Discount ($)",selector:function(e,t){return e.discount},sortable:!0},{name:"Code",selector:function(e){return e.promo_code},sortable:!0},{name:"Actions",center:!0,selector:function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("a",{href:"/view_coupons/".concat(e._id),className:"p-1 ",children:"View Details"})})}}],X=[{name:"ID",selector:"promo_id",sortable:!0},{name:"Rest ID",selector:"restaurant_id",sortable:!0},{name:"Plan",selector:"plan_name",sortable:!0},{name:"Rate/click",selector:function(e,t){return"$"+e.rpc},sortable:!0},{name:"Clicks",selector:function(e,t){return e.clicks},sortable:!0},{name:"Due",selector:function(e,t){return"$"+e.due},sortable:!0},{name:"Status",selector:function(e,t){return"N/A"},sortable:!0},{name:"Code",selector:"promo_code",sortable:!0},{name:"Actions",center:!0,selector:function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("a",{href:"/view_campaign/".concat(e._id),className:"p-1 ",children:"View Details"})})}}],Z=[{name:"S No.",width:"64px",selector:function(e,t){return t+1}},{name:" ID",selector:function(e){return e.restID},sortable:!0,width:"86px"},{name:"Email",selector:function(e){return e.restEmail},width:"178px",sortable:!0},{name:"Restaurant",selector:function(e){return e.restName},width:"168px",sortable:!0},{name:"Base Revenue",selector:function(e){return"$"+parseFloat(e.totalMerchAmt+e.totalAddOnAmt).toFixed(2)},width:"114px",sortable:!0},{name:"Commission",selector:function(e){return"$"+parseFloat(e.totalCommissionAmt).toFixed(2)},width:"114px",sortable:!0},{name:"Gross Income",selector:function(e){return"$"+parseFloat(e.totalMerchAmt+e.totalAddOnAmt-e.totalCommissionAmt).toFixed(2)},width:"114px",style:{overflowWrap:"break-word"},sortable:!0},{name:"Net Income",selector:function(e){return"$"+parseFloat(e.totalMerchAmt+e.totalAddOnAmt-e.totalCommissionAmt-e.totalDiscount-e.totalBannerDue).toFixed(2)},width:"114px",sortable:!0},{name:"Paid",selector:function(e){return"$"+parseFloat(e.paidAmt||0).toFixed(2)},sortable:!0,width:"84px"},{name:"Due",selector:function(e){return"$"+parseFloat(e.totalMerchAmt+e.totalAddOnAmt-e.totalCommissionAmt-e.totalDiscount-e.totalBannerDue).toFixed(2)},sortable:!0,width:"114px"}],ee=[{name:"S No.",width:"64px",selector:function(e,t){return t+1}},{name:"Amount",selector:function(e){return e.chefBalance},width:"178px",sortable:!0},{name:"Transaction ID",selector:function(e){return e.txn_id},sortable:!0,width:"160px"},{name:"Deposited on",selector:function(e){return z()(e.deposit_date).isValid()?z()(e.deposit_date).format("DD/MM/YYYY HH:mm:ss A"):""},width:"140px",sortable:!0},{name:"Payout Start Date",selector:function(e){return z()(e.payout_start_date).format("Do MMM")},width:"140px",sortable:!0},{name:"Payout End Date",selector:function(e){return z()(e.payout_end_date).format("Do MMM")},sortable:!0,width:"148px"},{name:"Action",selector:function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsx)(U.a,{className:"btn ".concat("Paid"===e.status?"btn-secondary":"btn-primary"," mx-2 my-1"),to:{pathname:"/deposit_money/".concat(t),query:Object(q.a)({},e)},children:"Paid"===e.status?"Paid":"Pay"}),Object(b.jsx)(U.a,{className:"btn btn-warning mx-2 my-1",to:{pathname:"/commission_tracking/",query:Object(q.a)({},e)},children:"View"})]})},sortable:!0,width:"168px"}],te=[{name:"User ID",selector:function(e,t){return e.user_id},width:100,sortable:!0},{name:"Restaurant ID",selector:function(e,t){return e.restaurant_id},width:140,sortable:!0},{name:"Order ID",selector:function(e,t){return e.order_id},width:120,sortable:!0},{name:"Order Time",selector:function(e,t){return z()(e.order_time).format("DD-MMM-YYYY")},width:120,sortable:!0},{name:"Review",selector:function(e,t){return Object(b.jsxs)("div",{className:"text-justify",children:[Object(b.jsxs)("h6",{className:"text-warning",children:[Object(b.jsxs)("span",{children:[" ",e.rating," ",Object(b.jsx)("i",{className:"fa fa-star"})," "]})," "]}),Object(b.jsx)("p",{className:"crop",id:"test",children:e.details})]})},width:360,sortable:!0},{name:"Actions",center:!0,selector:function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("a",{href:"/view_review/".concat(e._id),className:"p-1 ",children:Object(b.jsx)("i",{className:"fa fa-eye text-navy"})}),Object(b.jsx)("a",{href:"/review/".concat(e._id),className:"p-1",children:Object(b.jsx)("i",{className:"fa fa-trash text-danger tx-118-f "})})]})}}],ce=c(37),ae=c.n(ce);c(61);function se(e){var t=e.title,c=e.data,a=e.columns,s=e.flag,n={columns:a,data:c};return Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsx)(ae.a,Object(q.a)(Object(q.a)({filterPlaceholder:"Search..."},n),{},{children:Object(b.jsx)(B.a,{title:t,columns:a,data:c,highlightOnHover:!0,pagination:!0,paginationServer:!0,noHeader:s,dense:s,customStyles:K,selectableRows:!0})}))})}function ne(e){var t=e.total,c=e.pending,a=e.started,s=e.completed,n=e.rejected,r=e.cancelled;return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(I,{title:"Total",description:"Total orders received",value:t,status:"text-success"}),Object(b.jsx)(I,{title:"Pending",description:"Orders placed but not started",value:c,status:"text-warning"}),Object(b.jsx)(I,{title:"In Progress",description:"Orders started in progress",value:a,status:"text-info"}),Object(b.jsx)(I,{title:"Completed",description:"Completed orders",value:s,status:"text-success"}),Object(b.jsx)(I,{title:"Cancelled",description:"Orders cancelled by User",value:r,status:"text-muted"}),Object(b.jsx)(I,{title:"Rejected",description:"Orders rejected by Chef",value:n,status:"text-danger"})]})}function re(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(0),l=Object(r.a)(n,2),i=l[0],j=l[1],d=Object(a.useState)(0),o=Object(r.a)(d,2),u=o[0],h=o[1],p=Object(a.useState)(0),f=Object(r.a)(p,2),v=f[0],N=f[1],g=Object(a.useState)(0),y=Object(r.a)(g,2),w=y[0],_=y[1],S=Object(a.useState)(0),C=Object(r.a)(S,2),k=C[0],T=C[1],D=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/orders");case 2:return t=e.sent,e.next=5,t.data;case 5:c=e.sent,s(c),a=c.reduce((function(e,t){return e[t.status]=(e[t.status]||0)+1,e}),{}),_(a.started||0),N(a.accepted||0),h(a.rejected||0),T(a.cancelled||0),j(a.completed||0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){D()}),[]),Object(b.jsxs)("div",{className:"wrapper wrapper-content",children:[Object(b.jsx)(ne,{total:c.length,completed:i,started:w,pending:v,rejected:u,cancelled:k}),Object(b.jsx)(se,{title:"Orders",data:c,flag:!0,columns:J})]})}c(88);function le(e){var t=e.data,c=Object(a.useState)(0),s=Object(r.a)(c,2),n=s[0],l=s[1],i=Object(a.useState)(""),j=Object(r.a)(i,2),d=j[0],o=j[1],u=Object(a.useState)(0),m=Object(r.a)(u,2),O=m[0],h=m[1],x=Object(a.useState)(0),p=Object(r.a)(x,2),f=p[0],v=p[1],N=Object(a.useState)(0),g=Object(r.a)(N,2),y=g[0],w=g[1],_=Object(a.useState)(0),S=Object(r.a)(_,2),C=S[0],k=S[1],T=Object(a.useState)(0),D=Object(r.a)(T,2),A=D[0],F=D[1],M=Object(a.useState)(0),E=Object(r.a)(M,2),I=E[0],P=E[1],R=Object(a.useState)(0),q=Object(r.a)(R,2),$=q[0],B=q[1],L=Object(a.useState)(!1),V=Object(r.a)(L,2),z=V[0],U=V[1],K=Object(a.useState)(0),H=Object(r.a)(K,2),Y=H[0],W=H[1];return Object(a.useEffect)((function(){o(t.restID),l(t.totalMerchAmt),v(t.totalAddOnAmt),h(t.commissionAmt),w(t.totalAddOnCommissionAmt),k(t.paidAmt),W(t.totalBannerDue),F(t.totalDiscount),P(t.totalAdminDiscount),B(t.payable),U(!0)}),[t,$]),z?Object(b.jsx)("div",{className:"collapsible-container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-sm-10",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-sm-6",children:[Object(b.jsx)("span",{className:"collapsible-details",children:"Total Order Amount:"}),Object(b.jsxs)("span",{children:["$",parseFloat(n).toFixed(2)]})]}),Object(b.jsxs)("div",{className:"col-sm-6",children:[Object(b.jsx)("span",{className:"collapsible-details",children:"Commission:"}),Object(b.jsxs)("span",{children:["$",parseFloat(O).toFixed(2)]})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-sm-6",children:[Object(b.jsxs)("span",{className:"collapsible-details",children:["Total Add on Amount:"," "]}),Object(b.jsxs)("span",{children:["$",parseFloat(f).toFixed(2)]})]}),Object(b.jsxs)("div",{className:"col-sm-6",children:[Object(b.jsx)("span",{className:"collapsible-details",children:"Add on Commission:"}),Object(b.jsxs)("span",{children:["$",parseFloat(y).toFixed(2)]})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-sm-6",children:[Object(b.jsx)("span",{className:"collapsible-details",children:"Chef Discount:"}),Object(b.jsxs)("span",{children:["$",parseFloat(A||0).toFixed(2)]})]}),Object(b.jsxs)("div",{className:"col-sm-6",children:[Object(b.jsx)("span",{className:"collapsible-details",children:"Admin Discount:"}),Object(b.jsxs)("span",{children:["$",parseFloat(I||0).toFixed(2)]})]}),Object(b.jsxs)("div",{className:"col-sm-6",children:[Object(b.jsx)("span",{className:"collapsible-details",children:"Banner Due:"}),Object(b.jsxs)("span",{children:["$ ",parseFloat(Y).toFixed(2)]})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-sm-6",children:[Object(b.jsx)("span",{className:"collapsible-details",children:"Paid:"}),Object(b.jsxs)("span",{children:["$",parseFloat(C||0).toFixed(2)]})]}),Object(b.jsxs)("div",{className:"col-sm-6",children:[Object(b.jsx)("span",{className:"collapsible-details",children:"Balance:"}),Object(b.jsxs)("span",{children:["$",parseFloat(n+f-O-y-A-Y).toFixed(2)]})]})]})]}),Object(b.jsx)("div",{className:"col-sm-2",children:Object(b.jsx)("a",{href:"/view_transaction/".concat(d),className:"btn btn-warning my-2",children:"View"})})]})}):Object(b.jsx)("div",{children:"Loading..."})}function ie(e){var t=e.title,c=e.data,a=e.columns,s=e.flag,n={columns:a,data:c};return Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsx)(ae.a,Object(q.a)(Object(q.a)({filterPlaceholder:"Search..."},n),{},{children:Object(b.jsx)(B.a,{title:t,columns:a,data:c,responsive:!0,expandableRows:!0,expandableRowsComponent:function(e){var t=e.data;return Object(b.jsx)(le,{data:t})},highlightOnHover:!0,pagination:!0,paginationServer:!0,noHeader:s,dense:s,style:{overflowWrap:"break-word"},customStyles:H})}))})}function je(){return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-lg-3",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("span",{className:"label label-success float-right",children:"Monthly"}),Object(b.jsx)("h5",{children:"Income"})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h1",{className:"no-margins",children:"$156.00"}),Object(b.jsxs)("div",{className:"stat-percent font-bold text-success",children:["98% ",Object(b.jsx)("i",{className:"fa fa-bolt"})]}),Object(b.jsx)("small",{children:"Total income"})]})]})}),Object(b.jsx)("div",{className:"col-lg-3",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("span",{className:"label label-info float-right",children:"Monthly"}),Object(b.jsx)("h5",{children:"Orders"})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h1",{className:"no-margins",children:"4"}),Object(b.jsxs)("div",{className:"stat-percent font-bold text-info",children:["20% ",Object(b.jsx)("i",{className:"fa fa-level-up"})]}),Object(b.jsx)("small",{children:"New orders"})]})]})}),Object(b.jsx)("div",{className:"col-lg-3",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("span",{className:"label label-primary float-right",children:"Monthly"}),Object(b.jsx)("h5",{style:{fontSize:12},children:"Commission"})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h1",{className:"no-margins",children:"$15.60"}),Object(b.jsxs)("div",{className:"stat-percent font-bold text-navy",children:["44% ",Object(b.jsx)("i",{className:"fa fa-level-up"})]}),Object(b.jsx)("small",{children:"New visits"})]})]})}),Object(b.jsx)("div",{className:"col-lg-3",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("span",{className:"label label-primary float-right",children:"Low value"}),Object(b.jsx)("h5",{style:{fontSize:12},children:"Paid to chef"})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h1",{className:"no-margins",children:"$135.40"}),Object(b.jsxs)("div",{className:"stat-percent font-bold text-danger",children:["38% ",Object(b.jsx)("i",{className:"fa fa-level-down"})]}),Object(b.jsx)("small",{children:"In first month"})]})]})})]})}function de(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("api/admintochefpayments/");case 2:t=e.sent,c=t.data,s(c.payouts);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(b.jsxs)("div",{className:"wrapper wrapper-content",children:[Object(b.jsx)(je,{}),Object(b.jsx)(ie,{title:"Payouts",data:c,columns:Z,flag:!0})]})}function oe(e){var t=e.data,c=Object(a.useState)([]),s=Object(r.a)(c,2),n=s[0],l=s[1],i=Object(a.useState)([]),j=Object(r.a)(i,2),d=j[0],o=j[1],u=Object(a.useState)([]),m=Object(r.a)(u,2),O=m[0],h=m[1];return Object(a.useEffect)((function(){l(t.filter((function(e){return"Active"===e.status}))),o(t.filter((function(e){return"Inactive"===e.status}))),h(t.filter((function(e){return"Unapproved"===e.status})))}),[t]),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(I,{title:"Total",description:"Total Restaurant",value:t.length,status:"text-secondary"}),Object(b.jsx)(I,{title:"Active",description:"Active Restaurant",value:n.length,status:"text-success"}),Object(b.jsx)(I,{title:"Inactive",description:"Inactive Restaurant",value:d.length,status:"text-danger"}),Object(b.jsx)(I,{title:"Unapproved",description:"Unapproved Restaurant",value:O.length,status:"text-warning"})]})}var be={restaurant_name:"",phone:"",email:"",locality:"",city:"",state:"",country:"",about:"",postal_code:"",owner_name:"",cuisine_type:"",commission:"",status:"",category:"",meal_type:"",meals:[],price_plans:[],documents:[{restaurant_image:""},{banner_image:""}],papers:[],account_name:"",account_number:"",bank_name:"",branch_number:"",institution_number:"",profit_margins:[]},ue=[],me=x.a.create();me.defaults.timeout=9e4,x.a.defaults.headers.post["Content-Type"]="multipart/form-data";var Oe=function(e){return function(){var t=Object(O.a)(Object(m.a)().mark((function t(c){var a,s,n,l,i;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new FormData,Object.entries(e).forEach((function(e){var t=Object(r.a)(e,2),c=t[0],s=t[1];return a.append(c,s)})),t.next=4,x.a.post("/api/newrest/",a,{headers:{"Content-Type":"multipart/form-data"}});case 4:s=t.sent,n=s.data,console.log(n),l=n.restaurant_id,i=n._id,c({type:y,payload:e}),c({type:w,payload:i}),c({type:_,payload:l});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},he=function(e,t){return function(){var c=Object(O.a)(Object(m.a)().mark((function c(a){var s,n;return Object(m.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,me.put("/api/newrest/".concat(e),t);case 2:s=c.sent,n=s.data,a({type:y,payload:n.data});case 5:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},xe=function(e,t){return function(){var c=Object(O.a)(Object(m.a)().mark((function c(a){return Object(m.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,console.log("Restaurant id ".concat(e," has meals ").concat(t));case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},pe=function(e){return function(){var t=Object(O.a)(Object(m.a)().mark((function t(c){var a,s;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me.get("/api/newrest/"+e);case 2:return a=t.sent,t.next=5,a.data;case 5:s=t.sent,console.log(s),c({type:y,payload:s});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fe=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.get("/api/newrest/");case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.get("/api/plans/getProfitMargin");case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.get("/api/cuisine");case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.get("/api/checkout/getcommission");case 2:return t=e.sent,c=t.data.commission,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.post("/api/cuisine",t);case 2:return c=e.sent,a=c.data.msg,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(e,t){return{type:C,payload:{documents:e,papers:t}}},_e=function(e){return{type:k,payload:{meals:e}}},Se=function(){return function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/plans/getProfitMargin");case 2:c=e.sent,a=c.data,t({type:D,payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var Ce=function(){return Object(b.jsx)("div",{className:"progress",children:Object(b.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated progress-bar-danger",style:{width:"50%"},role:"progressbar","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})})};function ke(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!1),l=Object(r.a)(n,2),i=l[0],j=l[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,fe();case 3:e.t1=e.sent,(0,e.t0)(e.t1),j(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(b.jsx)("div",{className:"wrapper wrapper-content",children:i?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(oe,{data:c}),Object(b.jsx)(se,{title:"Restaurant",data:c,flag:!0,columns:G})]}):Object(b.jsx)(Ce,{})})}function Te(e){var t=e.total;return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-3",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsx)("h5",{children:"Total Users"})}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h1",{className:"no-margins",children:null===t||void 0===t?void 0:t.length}),Object(b.jsx)("small",{children:"Total users"})]})]})}),Object(b.jsx)("div",{className:"col-3",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("span",{className:"label label-success float-right",children:"Active"}),Object(b.jsx)("h5",{children:"Users"})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h1",{className:"no-margins",children:null===t||void 0===t?void 0:t.length}),Object(b.jsx)("small",{children:"Total active users"})]})]})}),Object(b.jsx)("div",{className:"col-3",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("span",{className:"label label-danger float-right",children:"Inactive"}),Object(b.jsx)("h5",{children:"Users"})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h1",{className:"no-margins",children:"0"}),Object(b.jsx)("small",{children:"Inactive users"})]})]})})]})}function De(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/users");case 2:t=e.sent,c=t.data,s(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(b.jsxs)("div",{className:"wrapper wrapper-content",children:[Object(b.jsx)(Te,{total:c}),Object(b.jsx)(se,{title:"User",flag:!0,data:c,columns:W})]})}var Ae=c(65),Fe=c.n(Ae);function Me(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){x.a.get("/api/partnerrequest").then((function(e){s(e.data.data)}))}),[]),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("h5",{children:"Current Requests"}),Object(b.jsxs)("div",{className:"row row-sm mx-1",children:[Object(b.jsx)("input",{type:"search",id:"searchrequest",className:"col-sm-9 form-control",placeholder:"Search"}),Object(b.jsx)("button",{className:"btn btn-white col-sm-2",id:"btnTrigger","data-toggle":"modal","data-target":"#mymodal",onClick:function(){return Fe()("#mymodal").show("fast")},children:Object(b.jsx)("i",{className:"fa fa-filter"})})]}),Object(b.jsx)("div",{className:"modal",tabindex:"-1",role:"dialog",id:"mymodal",children:Object(b.jsx)("div",{className:"modal-dialog",role:"document",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h5",{className:"modal-title",children:"Modal title"}),Object(b.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(b.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsxs)("div",{className:"row row-sm",children:[Object(b.jsxs)("div",{className:"col-sm-4 border-right",children:[Object(b.jsx)("div",{className:"border-bottom center",children:Object(b.jsx)("p",{className:"btn btn-white active",children:"Status"})}),Object(b.jsx)("div",{className:"border-bottom center",children:Object(b.jsx)("p",{children:"Date"})})]}),Object(b.jsxs)("div",{className:"col-sm-8",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",value:""})," Pending"," "]})}),Object(b.jsx)("div",{children:Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",value:""})," Done"," "]})}),Object(b.jsx)("div",{children:Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",value:""})," Rejected"," "]})})]})]})}),Object(b.jsxs)("div",{className:"modal-footer",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-primary",children:"Apply"}),Object(b.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return Fe()("#mymodal").hide("fast")},children:"Close"})]})]})})})]}),Object(b.jsx)("div",{className:"ibox-content no-padding",children:Object(b.jsx)("ul",{className:"list-group",style:{overflowY:"scroll",height:600,paddingBottom:10},children:c.map((function(e,t){return Object(b.jsxs)("li",{className:"list-group-item",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("a",{className:"text-info",href:"/",children:e.first_name+" "+e.last_name})," ","want to get partnership for his restaurant"," ",Object(b.jsxs)("a",{className:"text-info",href:"/",children:["@",e.restaurant_name]})," "]}),Object(b.jsxs)("small",{className:"block text-muted",children:[Object(b.jsx)("i",{className:"fa fa-clock-o"})," ",e.created_at]}),Object(b.jsx)("a",{className:"text-center text-success align-self-center ",href:"/newrequest/".concat(e._id),children:"Click to See more"})]},t)}))})})]})})}function Ee(e){var t=e.partner,c=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.data._id,a={status:"Done"},e.next=4,x.a.put("/api/partnerrequest/"+c,a);case 4:null!==e.sent&&window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.data._id,a={status:"Reject"},e.next=4,x.a.put("/api/partnerrequest/"+c,a);case 4:null!==e.sent&&window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"col-lg-8 animated fadeInRight",children:[Object(b.jsxs)("div",{className:"mail-box-header",children:[Object(b.jsxs)("div",{className:"float-right tooltip-demo",children:[Object(b.jsxs)("button",{"data-placement":"top","data-toggle":"tooltip",type:"button","data-original-title":"Print",className:"btn btn-sm btn-white mr-1",children:[Object(b.jsx)("i",{className:"fa fa-print"})," Print"]}),Object(b.jsxs)("button",{"data-placement":"top","data-toggle":"tooltip",type:"button","data-original-title":"Print",className:"btn btn-sm btn-white",onClick:function(){return e=t.data._id,void x.a.delete("/api/partnerrequest/"+e).then((alert("Deleted"),window.location.href="/")).catch((function(e){alert(e)}));var e},children:[Object(b.jsx)("i",{className:"fa fa-trash-o"})," Delete"]})]}),Object(b.jsxs)("h2",{className:"row",children:["View Message",Object(b.jsx)("h6",{children:Object(b.jsx)("i",{className:"Done"===t.data.status?"fa fa-circle text-success mx-2":"Reject"===t.data.status?"fa fa-circle text-danger mx-2":"fa fa-circle text-warning mx-2"})})]}),Object(b.jsxs)("div",{className:"mail-tools tooltip-demo m-t-md",children:[Object(b.jsxs)("h3",{children:[Object(b.jsx)("span",{className:"font-normal",children:"Subject: "}),"New Request from"," ",t.data.first_name+" "+t.data.last_name]}),Object(b.jsxs)("h5",{children:[Object(b.jsx)("span",{className:"float-right font-normal",children:z()(t.data.created_at).format("HH:mm:ss MMM-DD-YYYY")}),Object(b.jsx)("span",{className:"font-normal",children:"From: "}),t.data.email]})]})]}),Object(b.jsxs)("div",{className:"mail-box",children:[Object(b.jsxs)("div",{className:"mail-body",children:[Object(b.jsxs)("p",{children:["Hello Admin!",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"Here we can put sample text and other details from chef request"]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:" Chef Name:"})," ",t.data.first_name+" "+t.data.last_name,Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Restaurant Name: "}),t.data.restaurant_name,Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Phone:"}),t.data.phone,Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Postal Code:"}),t.data.postal_code,Object(b.jsx)("br",{})]})]}),Object(b.jsxs)("div",{className:"mail-body text-right tooltip-demo ",children:[Object(b.jsxs)("button",{"data-placement":"top","data-toggle":"tooltip",type:"button","data-original-title":"Print",className:"btn btn-sm btn-success mr-1",onClick:c,children:[Object(b.jsx)("i",{className:"fa fa-check"})," Done"]}),Object(b.jsxs)("button",{"data-placement":"top","data-toggle":"tooltip",type:"button","data-original-title":"Print",className:"btn btn-sm btn-danger",onClick:a,children:[Object(b.jsx)("i",{className:"fa fa-times"})," Reject"]})]})]})]})}function Ie(){var e=Object(l.h)().id,t=Object(a.useState)({}),c=Object(r.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)(!1),j=Object(r.a)(i,2),d=j[0],o=j[1];return Object(a.useEffect)((function(){function t(){return(t=Object(O.a)(Object(m.a)().mark((function t(){var c;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("/api/partnerrequest/".concat(e));case 2:c=t.sent,n(c.data),o(!0);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(b.jsx)("div",{className:"wrapper wrapper-content",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(Me,{}),d&&Object(b.jsx)(Ee,{partner:s})]})})}var Pe=c(38),Re=c.n(Pe),qe=c(9),$e=c(16);function Be(e){var t=e.props,c=e.currentStep,a=e.data,s=e.handler;return Object(b.jsx)("div",{className:"row mt-2",children:Object(b.jsxs)("div",{className:"col-lg-12 justify-content-end",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-primary float-right mr-2 ",onClick:function(){t.goToStep(c+1),s(a)},children:"Next"}),1!==c?Object(b.jsx)("button",{type:"button",className:"btn btn-default float-right mr-2 ",onClick:function(){t.goToStep(c-1)},children:"Previous"}):null]})})}function Le(e){var t=e.label,c=e.name,a=e.type,s=e.handler,n=e.required,r=e.defaultValue,l=e.disabled,i=n?"required":"";return Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{className:"text-uppercase",children:[t," ",n&&Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:c,onChange:s,type:a,className:"form-control ".concat(i),value:r,disabled:l})]})}function Ve(e){var t=e.label,c=e.required,a=e.name,s=e.values,n=e.handler;return Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{className:"text-uppercase",children:[t," ",c&&Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("select",{className:"form-control required",name:a,onChange:n,children:s.map((function(e,t){var c=e.value,a=e.name;return Object(b.jsx)("option",{value:c,children:a},t)}))})]})}var ze=c(94);function Ue(e){var t=e.values,c=e.label,s=(e.handler,e.required),n=Object(a.useState)(),l=Object(r.a)(n,2),i=l[0],j=l[1];return Object(a.useEffect)((function(){j(t)}),[t]),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{className:"text-uppercase",children:[c," ",s&&Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)(ze.Multiselect,{options:i,onSelect:function(e,t){console.log(e)},onRemove:function(e,t){console.log(e)},displayValue:"name"})]})}function Ke(e){var t=Object(a.useState)([]),c=Object(r.a)(t,2),s=c[0],n=c[1],l=Object(a.useState)(0),i=Object(r.a)(l,2),j=i[0],d=i[1],o=Object(a.useState)({}),u=Object(r.a)(o,2),h=u[0],x=u[1],p=Object(a.useState)(!1),f=Object(r.a)(p,2),v=f[0],g=f[1],y=Object(N.b)(),w=function(e){var t=e.target;x((function(e){return Object(q.a)(Object(q.a)({},e),{},Object($e.a)({},t.name,t.value))}))},_=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne();case 2:t=e.sent,c=[{name:"Choose an option",value:""}],a=Array.isArray(t)&&t.map((function(e){return{name:e.cuisineName,value:e.cuisineName}})),c.push.apply(c,Object(qe.a)(a)),n(c),g(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){_()}),[]),Object(a.useEffect)((function(){var e=!0,t=function(){var t=Object(O.a)(Object(m.a)().mark((function t(){var c;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ge();case 2:c=t.sent,e&&d(c);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[]);var S=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,y(Oe(h));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return v?Object(b.jsxs)("fieldset",{children:[Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsxs)("div",{className:"col-4",children:[Object(b.jsx)(Le,{label:"restaurant name",required:!0,name:"restaurant_name",type:"text",handler:w}),Object(b.jsx)(Le,{label:"owner name",required:!0,name:"owner_name",type:"text",handler:w}),Object(b.jsx)(Le,{label:"City",required:!0,name:"city",type:"text",handler:w}),Object(b.jsx)(Le,{label:"country",required:!0,name:"country",type:"text",handler:w})]}),Object(b.jsxs)("div",{className:"col-4",children:[Object(b.jsx)(Le,{label:"phone number",required:!0,name:"phone",type:"text",handler:w}),Object(b.jsx)(Le,{label:"address line 1",required:!0,name:"locality",type:"text",handler:w}),Object(b.jsx)(Le,{label:"state",required:!0,name:"states",type:"text",handler:w}),Object(b.jsx)(Le,{label:"commission",required:!0,name:"commission",defaultValue:j,disabled:!0,type:"text",handler:w})]}),Object(b.jsxs)("div",{className:"col-4",children:[Object(b.jsx)(Le,{label:"email id",required:!0,name:"email",type:"text",handler:w}),Object(b.jsx)(Le,{label:"address line 2",required:!1,name:"addressLine2",type:"text",handler:w}),Object(b.jsx)(Le,{label:"postal code",required:!0,name:"postal_code",type:"text",handler:w}),Object(b.jsx)(Ve,{label:"meal type",required:!0,handler:w,name:"meal_type",values:[{name:"Choose an option",value:""},{name:"Veg",value:"Veg"},{name:"Non-Veg",value:"Non-Veg"}]})]})]}),Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsxs)("div",{className:"col-4",children:[Object(b.jsx)(Ue,{values:s,label:"Cuisine",name:"cuisine_type",handler:w,required:!0}),Object(b.jsx)(Ve,{label:"meal time",name:"category",handler:w,required:!0,values:[{name:"Choose an option",value:""},{name:"Both",value:"Both"},{name:"Lunch",value:"Lunch"},{name:"Dinner",value:"Dinner"}]}),Object(b.jsx)(Le,{label:"Tax",required:!0,name:"taxes",type:"text",handler:w})]}),Object(b.jsx)("div",{className:"col-8","aria-rowspan":2,children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["ABOUT ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("textarea",{className:"form-control form-control-plaintext",name:"about",onChange:function(e){return w(e)},rows:8})]})})]}),Object(b.jsx)(Be,{currentStep:1,props:e,data:h,handler:S})]}):Object(b.jsx)(Ce,{})}function He(e){var t=Object(a.useState)({}),c=Object(r.a)(t,2),s=c[0],n=c[1],l=Object(N.c)((function(e){return e.restaurant})).id,i=(Object(N.b)(),function(){var e=Object(O.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.put("/api/newrest/".concat(l),{bankInfo:s});case 2:e.sent,alert("Documents uploaded");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),j=function(e){var t=e.target,c=t.name,a=t.value;n((function(e){return Object(q.a)(Object(q.a)({},e),{},Object($e.a)({},c,a))}))};return Object(b.jsxs)("fieldset",{children:[Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(Le,{label:"Account name",required:!0,name:"account_name",type:"text",handler:j})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(Le,{label:"ACCOUNT NUMBER",required:!0,name:"account_number",type:"text",handler:j})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(Le,{label:"CONFIRM ACCOUNT NUMBER",required:!0,name:"confirm_account_number",type:"text",handler:j})})]}),Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(Le,{label:"bank name",required:!0,name:"bank_name",type:"text",handler:j})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(Le,{label:"Branch #",required:!0,name:"branch_number",type:"text",handler:j})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(Le,{label:"Institution/Routing #",required:!0,name:"institution_number",type:"text",handler:j})})]}),Object(b.jsx)(Be,{currentStep:5,props:e,data:s,handler:i})]})}var Ye=function(e,t){var c=new FileReader;c.readAsDataURL(e),c.onload=function(){return t(c.result)}};var We=function(e){var t=e.title,c=e.name,s=e.id,n=e.accepts,l=e.minSize,i=e.style,j=e.handler,d=Object(a.useState)(null),o=Object(r.a)(d,2),u=o[0],m=o[1],O=Object(a.useState)(""),h=Object(r.a)(O,2),x=h[0],p=h[1];return Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:[t," ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{name:c,type:"file",id:s,className:"custom-file-input",accept:n,onChange:function(e){p(e.target.files[0].name),m(URL.createObjectURL(e.target.files[0])),Ye(e.target.files[0],j)}}),Object(b.jsx)("label",{htmlFor:s,className:"custom-file-label",children:x})]})]})}),Object(b.jsxs)("div",{className:"col-6",children:[Object(b.jsx)("div",{children:null!==u?Object(b.jsx)("img",{src:u,className:"img-thumbnail",alt:"".concat(s),style:i}):Object(b.jsx)("div",{className:"img-frame",children:t})}),Object(b.jsx)("div",{children:Object(b.jsxs)("small",{className:"text-danger",children:[t," must be atleast ",l," pixels",Object(b.jsx)("sup",{children:"*"})," "]})})]})]})};function Ge(e){var t=e.title,c=Object(a.useState)([{image_name:"",image:""}]),s=Object(r.a)(c,2),n=s[0],l=s[1];return n.map((function(e,c){return Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-2 mt-2",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:t}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"image_name",value:e.image_name,onChange:function(e){return function(e,t){var c=Object(qe.a)(n);c[e][t.target.name]=t.target.value,l(c)}(c,e)}})]})}),Object(b.jsx)("div",{className:"col-8",children:Object(b.jsx)(We,{title:"Document",name:"paper-".concat(c),id:"paper-".concat(c),accepts:[".jpeg",".png",".jpg"],minSize:"2480 x 3508"})}),Object(b.jsx)("div",{className:"col-2 ",children:Object(b.jsxs)("div",{className:"form-inline mt-4 py-2",children:[Object(b.jsx)("button",{className:"btn btn-danger mr-2",type:"button",onClick:function(){return function(e){var t=Object(qe.a)(n);t.splice(e,1),l(t)}(c)},children:Object(b.jsx)("i",{className:"fa fa-trash-o"})}),Object(b.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(e){return function(){var e=Object(qe.a)(n);e.push({value:""}),l(e)}()},children:Object(b.jsx)("i",{className:"fa fa-plus"})})]})})]},c)}))}function Je(e){var t=Object(a.useState)([]),c=Object(r.a)(t,2),s=c[0],n=c[1],l=Object(a.useState)([]),i=Object(r.a)(l,2),j=i[0],d=(i[1],Object(N.c)((function(e){return e.restaurant})).id),o=(Object(N.b)(),function(e,t){var c=Object(qe.a)(s),a=Object($e.a)({},e,t);c.push(a),n(c)}),u=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.put("/api/newrest/".concat(d),{documents:s,papers:j});case 2:e.sent,console.log("Hello"),alert("Documents uploaded");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("fieldset",{children:[Object(b.jsx)(We,{name:"restaurant_image",title:"Profile Image",id:"restaurant_image",minSize:"800 x 800",accepts:[".jpeg",".png",".jpg"],style:{height:160,width:160},handler:function(e){return o("restaurant_image",e)}}),Object(b.jsx)(We,{name:"banner_image",title:" Banner Image",id:"banner_image",minSize:"1024 x 576",accepts:[".jpeg",".png",".jpg"],style:{width:205,height:116},handler:function(e){return o("banner_image",e)}}),Object(b.jsx)(Ge,{title:"Document Name"}),Object(b.jsx)(Be,{currentStep:2,props:e,data:s,handler:u})]})}function Qe(e){var t=Object(a.useState)([]),c=Object(r.a)(t,2),s=c[0],n=c[1],l=Object(a.useState)(!1),i=Object(r.a)(l,2),j=i[0],d=i[1],o=Object(N.c)((function(e){return e.restaurant})).profit_margins;Object(a.useEffect)((function(){"undefined"!==typeof o&&n(o)}),[o]);var u=function(e,t){var c=t.target.value,a=Object(qe.a)(s),r=a[e].profit_margin,l=(parseFloat(c)+parseFloat(r)).toFixed(2);a[e].profit_margin=l,n(a)};return Object(b.jsxs)("fieldset",{children:[Object(b.jsxs)("div",{className:"ibox",category:"Lunch",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsx)("h5",{children:"Lunch"})}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("div",{className:"d-flex justify-content-end",children:Object(b.jsxs)("div",{className:"form-check",children:[Object(b.jsx)("input",{className:"form-check-input",type:"checkbox",id:"isDelivery",onChange:function(){return d(!j)},checked:j}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:"isDelivery",children:"Provide Delivery"})]})}),s.map((function(e,t){return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-sm-4 col-md-4",children:Object(b.jsx)(Le,{type:"text",label:e.plan_name,name:e.plan_name,required:!0,handler:function(e){return u(t,e)}})}),Object(b.jsx)("div",{className:"col-sm-4 col-md-4",children:Object(b.jsx)(Le,{type:"text",label:"Customer price",name:e.plan_name,required:!0,defaultValue:e.profit_margin})}),Object(b.jsx)("div",{className:"col-sm-4 col-md-4",children:Object(b.jsx)(Le,{type:"text",label:"Delivery price",name:e.plan_name,required:!1,disabled:!j})})]},t)}))]})]}),Object(b.jsxs)("div",{className:"ibox",category:"Dinner",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsx)("h5",{children:"Dinner"})}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("div",{className:"d-flex justify-content-end",children:Object(b.jsxs)("div",{className:"form-check",children:[Object(b.jsx)("input",{className:"form-check-input",type:"checkbox",onChange:function(){return d(!j)},checked:j}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:"isDelivery",children:"Provide Delivery"})]})}),s.map((function(e,t){return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-sm-4 col-md-4",children:Object(b.jsx)(Le,{type:"text",label:e.plan_name,name:e.plan_name,required:!0,handler:function(e){return u(t,e)}})}),Object(b.jsx)("div",{className:"col-sm-4 col-md-4",children:Object(b.jsx)(Le,{type:"text",label:"Customer price",name:e.plan_name,required:!0,defaultValue:e.profit_margin,disabled:!0})}),Object(b.jsx)("div",{className:"col-sm-4 col-md-4",children:Object(b.jsx)(Le,{type:"text",label:"Delivery price",name:e.plan_name,required:!1,disabled:!j})})]},t)}))]})]}),Object(b.jsx)(Be,{currentStep:4,props:e})]})}function Xe(e){var t=e.currentStep,c=e.goToStep;return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{role:"tab",className:"col-2",children:Object(b.jsx)("button",{type:"button",className:"btn w-150 ".concat(1===t?"btn-primary":""),onClick:function(){return c(1)},children:"Basic Info"})}),Object(b.jsx)("div",{role:"tab",className:"col-2",children:Object(b.jsx)("button",{type:"button",className:"btn w-150 ".concat(2===t?"btn-primary":""),onClick:function(){return c(2)},children:"Documents"})}),Object(b.jsx)("div",{role:"tab",className:"col-2",children:Object(b.jsx)("button",{type:"button",className:"btn w-150 ".concat(3===t?"btn-primary":""),onClick:function(){return c(3)},children:"Meals"})}),Object(b.jsx)("div",{role:"tab",className:"col-2",children:Object(b.jsx)("button",{type:"button",className:"btn w-150 ".concat(4===t?"btn-primary":""),onClick:function(){return c(4)},children:"Meal Plan"})}),Object(b.jsx)("div",{role:"tab",className:"col-2",children:Object(b.jsx)("button",{type:"button",className:"btn w-150 ".concat(5===t?"btn-primary":""),onClick:function(){return c(5)},children:"Bank Info"})})]})}function Ze(e){e.day;var t=e.handleChangeInput,c=Object(a.useState)([{add_on:"",add_on_price:"",add_on_image:""}]),s=Object(r.a)(c,2),n=s[0],l=s[1];return n.map((function(e,c){return Object(b.jsxs)("div",{className:"row mt-2 ",children:[Object(b.jsxs)("div",{className:"col-3",children:[Object(b.jsx)(Le,{label:"Add on",name:"add_on",type:"text",handler:function(e){return t(c,e)},required:!1}),Object(b.jsx)(Le,{label:"price",name:"add_on_price",type:"text",handler:function(e){return t(c,e)},required:!1})]}),Object(b.jsx)("div",{className:"col-7 px-0",style:{marginTop:-10},children:Object(b.jsx)(We,{title:"Add On Image",name:"add_on_image",id:"image-".concat(c),accepts:[".jpeg",".png",".jpg"],minSize:"240 x 240"})}),Object(b.jsx)("div",{className:"col-2 px-0",children:Object(b.jsxs)("div",{className:"form-inline mt-4 py-2",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-default mr-2",onClick:function(e){l([].concat(Object(qe.a)(n),[{add_on:"",add_on_price:"",add_on_image:""}]))},children:Object(b.jsx)("i",{className:"fa fa-plus"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return function(e){var t=Object(qe.a)(n);t.splice(e,1),l(t)}(c)},children:Object(b.jsx)("i",{className:"fa fa-trash-o"})})]})})]},c)}))}function et(e){var t=e.index,c=e.meal,s=Object(a.useState)(c),n=Object(r.a)(s,2),l=n[0],i=(n[1],l.image),j=l.meal_name,d=l.slot,o=l.description,u=l.type;return Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("img",{src:i,className:"img-fluid",alt:"Meal",style:{width:"100%",height:220}}),Object(b.jsxs)("div",{className:"row my-1",children:[Object(b.jsx)("div",{className:"col-8",children:Object(b.jsx)("h5",{className:"text-uppercase",children:j})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)("h5",{className:"text-capitalize",style:{fontSize:10},children:d})})]}),Object(b.jsxs)("div",{className:"row mt-1",children:[Object(b.jsx)("div",{className:"col-8",children:Object(b.jsx)("p",{className:"text-capitalize",children:o})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)("h5",{className:"text-capitalize ".concat(u,"=='veg'?'text-success':'text-danger'"),style:{fontSize:8},children:u})})]})]},t)}function tt(e){var t=e.day,c=e.index,s=e.addMeal,n=e.disabled,l=Object(a.useState)([]),i=Object(r.a)(l,2),j=i[0],d=(i[1],Object(a.useState)({meal_name:"",day:t,slot:"",type:"",description:"",image:"",add_on:j})),o=Object(r.a)(d,2),u=o[0],m=o[1],O=Object(a.useState)([]),h=Object(r.a)(O,2),x=h[0],p=h[1],f=Object(a.useState)(""),v=Object(r.a)(f,2),N=v[0],g=v[1],y=Object(a.useState)(!1),w=Object(r.a)(y,2),_=(w[0],w[1],Object(a.useState)(!1)),S=Object(r.a)(_,2),C=S[0],k=S[1],T=function(e,t){var c=t.target,a=c.name,s=c.value;m((function(e){return Object(q.a)(Object(q.a)({},e),{},Object($e.a)({},a,s))}))},D=function(e){m(Object(q.a)(Object(q.a)({},u),{},{image:e}))};return C?alert("Cannot add more than two meals a day"):Object(b.jsxs)("fieldset",{children:[x.length>0&&Object(b.jsx)("div",{className:"row",children:x.map((function(e,t){return Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)(et,{meal:e,index:t})},t)}))}),Object(b.jsx)("div",{className:"row mt-1",children:Object(b.jsx)("div",{className:"col-12 justify-content-end",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary float-right mr-2 ",onClick:function(){var e=Object(qe.a)(x);e.length<3?e.push(u):k(!0),p(e);var t=u.slot;s(t,u)},disabled:n,children:"Save"})})}),Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(Ve,{label:"available as",required:!0,name:"slot",values:[{name:"Choose an option",value:""},{name:"Lunch",value:"Lunch"},{name:"Dinner",value:"Dinner"}],handler:function(e){return T(0,e)}})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(Ve,{label:"available as",required:!0,name:"type",values:[{name:"Choose an option",value:""},{name:"Veg",value:"veg"},{name:"Non-Veg",value:"non-veg"}],handler:function(e){return T(0,e)}})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(Le,{label:"meal name",type:"text",name:"meal_name",required:!0,handler:function(e){return T(0,e)}})})]}),Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Meal Image"}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{id:"logo",type:"file",className:"custom-file-input",onChange:function(e){return function(e,t){var c=t.target.files[0].name;g(c),Ye(t.target.files[0],D)}(0,e)}}),Object(b.jsx)("label",{htmlFor:"logo",className:"custom-file-label",children:N})]})]})}),Object(b.jsx)("div",{className:"col-8",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Meal Description ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("textarea",{className:"form-control form-control-plaintext",name:"description",onChange:function(e){return T(0,e)}})]})})]}),Object(b.jsx)(Ze,{day:t,handleChangeInput:T})]},c)}var ct=c(160),at=c(157);function st(e){var t=Object(N.b)(),c=Object(N.c)((function(e){return e.restaurant})),s=Object(a.useState)("Monday"),n=Object(r.a)(s,2),l=n[0],i=n[1],j=Object(a.useState)([{category:"Lunch",items:[]},{category:"Dinner",items:[]}]),d=Object(r.a)(j,2),o=d[0],u=d[1],h=Object(a.useState)(""),x=Object(r.a)(h,2),p=x[0],f=x[1],v=Object(a.useState)(!1),g=Object(r.a)(v,2),y=g[0],w=g[1];Object(a.useEffect)((function(){var e=!0;return e&&("object"===typeof c&&0!==Object.keys(c).length?(f(c.restaurant_id),w(!1)):w(!0)),function(){e=!1}}),[c]);var _=function(){var e=Object(O.a)(Object(m.a)().mark((function e(c,a){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=Object(qe.a)(o)).find((function(e){return e.category===c})).items.push(a),u(s),e.next=5,t(xe(p,o));case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();return Object(b.jsxs)("fieldset",{children:[Object(b.jsxs)(ct.a,{className:"tabs-container mt-1",activeKey:l,onSelect:function(e){return i(e)},children:[Object(b.jsx)(at.a,{eventKey:"Monday",title:"Monday",children:Object(b.jsx)(tt,{index:1,addMeal:_,day:"Monday",disabled:y})}),Object(b.jsx)(at.a,{eventKey:"Tuesday",title:"Tuesday",children:Object(b.jsx)(tt,{index:2,addMeal:_,day:"Tuesday",disabled:y})}),Object(b.jsx)(at.a,{eventKey:"Wednesday",title:"Wednesday",children:Object(b.jsx)(tt,{index:3,addMeal:_,day:"Wednesday",disabled:y})}),Object(b.jsx)(at.a,{eventKey:"Thursday",title:"Thursday",children:Object(b.jsx)(tt,{index:4,addMeal:_,day:"Thursday",disabled:y})}),Object(b.jsx)(at.a,{eventKey:"Friday",title:"Friday",children:Object(b.jsx)(tt,{index:5,addMeal:_,day:"Friday",disabled:y})}),Object(b.jsx)(at.a,{eventKey:"Saturday",title:"Saturday",children:Object(b.jsx)(tt,{index:6,addMeal:_,day:"Saturday",disabled:y})}),Object(b.jsx)(at.a,{eventKey:"Sunday",title:"Sunday",children:Object(b.jsx)(tt,{index:7,addMeal:_,day:"Sunday",disabled:y})})]}),Object(b.jsx)(Be,{currentStep:3,props:e})]})}function nt(e){var t=e.values,c=e.handler;return Object(b.jsx)(b.Fragment,{children:t.map((function(e,a){return Object(b.jsxs)("div",{className:"form-check form-check-inline",children:[Object(b.jsx)("input",{className:"form-check-input",type:"radio",id:e,name:"status",defaultChecked:"Unapproved"===e,value:e,onClick:function(){return function(e){c(t[e])}(a)}}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:e,children:e})]},a)}))})}function rt(e){var t=Object(a.useState)("Unapproved"),c=Object(r.a)(t,2),s=c[0],n=c[1],l=Object(N.b)();return Object(a.useEffect)((function(){l(Se())}),[l]),Object(b.jsx)("div",{className:"wrapper wrapper-content",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsx)("h5",{children:"Add Restaurant"})}),Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsxs)("form",{className:"wizard-big",children:[Object(b.jsx)("div",{className:"row justify-content-end mt-2",children:Object(b.jsx)(nt,{values:["Unapproved","Active","Inactive"],handler:function(e){n(e)}})}),Object(b.jsx)("br",{}),Object(b.jsxs)(Re.a,{isHashEnabled:!0,nav:Object(b.jsx)(Xe,Object(q.a)({},e)),children:[Object(b.jsx)(Ke,{stepName:"Basic",hashKey:"basic",status:s}),Object(b.jsx)(Je,{stepName:"Documents",hashKey:"docs"}),Object(b.jsx)(st,{stepName:"Meals",hashKey:"meals"}),Object(b.jsx)(Qe,{stepName:"Plans",hashKey:"plans"}),Object(b.jsx)(He,{stepName:"Bank Info",hashKey:"bank_info"})]})]})})]})})}function lt(e){var t=Object(N.c)((function(e){return e.restaurant})),c=t.restaurant_name,a=t.owner_name,s=t.cuisine_type,n=t.phone,r=t.locality,l=t.country,i=t.email,j=t.state,d=t.postal_code,o=t.city,u=t.status,m=t.category,O=t.about,h=t.reviews,x=t.meal_type,p=t.documents,f=t.sharecode;return Object(b.jsxs)("fieldset",{children:[Object(b.jsxs)("div",{className:"row m-b-lg m-t-lg p-3",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsxs)("div",{className:"profile-image",children:[Object(b.jsx)("img",{src:p&&p[0].restaurant_image,alt:"profile"}),Object(b.jsx)("div",{className:"status-circle",style:"Active"===u?{backgroundColor:"green"}:{backgroundColor:"red"}})]}),Object(b.jsxs)("div",{className:"profile-info",children:[Object(b.jsx)("h3",{className:"no-margins",children:c}),Object(b.jsx)("h4",{children:a}),Object(b.jsxs)("address",{children:[Object(b.jsx)("strong",{children:r}),Object(b.jsx)("br",{}),o,", ",j,", ",l," ",d,Object(b.jsx)("br",{}),Object(b.jsx)("abbr",{title:"Email",children:"E: "}),i,Object(b.jsx)("br",{}),Object(b.jsx)("abbr",{title:"Phone",children:"M: "}),n]})]})]})}),Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("table",{className:"table small m-b-xs",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[Object(b.jsx)("strong",{children:h&&h.length})," Stars"]}),Object(b.jsxs)("td",{children:[Object(b.jsx)("strong",{children:h&&h.length})," Reviews"]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"CUISINE TYPE"}),Object(b.jsx)("td",{children:s})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"COMMISSION"}),Object(b.jsxs)("td",{children:["8","%"]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Meal Type"}),Object(b.jsx)("td",{children:x})]})]})})}),Object(b.jsx)("div",{className:"col-3",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("h5",{className:"text-capitalize",children:"sharing link"}),Object(b.jsxs)("small",{className:"no-margins",children:[Object(b.jsx)("i",{className:"fa fa-android",style:{color:"#a4c639"}})," https://play.google.com/store/apps/details?id=com.feasti.feasti_user&sharecode=",f]}),Object(b.jsxs)("small",{className:"no-margins",children:[Object(b.jsx)("i",{className:"fa fa-apple",style:{color:"#000"}})," https://apps.apple.com/us/app/feasti-homecooked-food/id1645705596?sharecode=",f]})]})})]}),Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("h4",{className:"m-t-none m-b",children:"MEAL TIME"}),Object(b.jsx)("p",{children:m})]})}),Object(b.jsx)("div",{className:"col-lg-8",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("h4",{className:"m-t-none m-b",children:"About"}),Object(b.jsx)("p",{children:O})]})})]})]})}function it(e){var t=Object(N.c)((function(e){return e.restaurant})),c=Object(a.useState)([]),s=Object(r.a)(c,2),n=s[0],l=s[1],i=t.documents,j=t.papers;return Object(a.useEffect)((function(){var e=!0;return e&&l(j),function(){e=!1}}),[j]),Object(b.jsx)("fieldset",{children:Object(b.jsxs)("div",{className:"row mt-2",children:[Array.isArray(i)?i.map((function(e,t){return!Array.isArray(e)&&Object(b.jsxs)("div",{className:"col-lg-3",children:[Object(b.jsx)("div",{className:"image",children:Object(b.jsx)("img",{className:"img-fluid",alt:"Profile",src:Object.values(e)})}),Object(b.jsx)("div",{className:"file-name",children:Object.keys(e)})]},t)})):null,Array.isArray(n)?n.map((function(e,t){return Object(b.jsxs)("div",{className:"col-lg-3",children:[Object(b.jsx)("div",{className:"image",children:Object(b.jsx)("img",{className:"img-fluid",alt:"Profile",src:e.image})}),Object(b.jsx)("div",{className:"file-name",children:e.image_name})]},t)})):null]})})}function jt(){var e=Object(N.c)((function(e){return e.restaurant})),t=e.account_name,c=e.account_number,a=e.bank_name,s=e.branch_number,n=e.institution_number;return Object(b.jsx)("div",{className:"ibox",children:Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsx)("table",{className:"table",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Account Holder"}),Object(b.jsx)("td",{children:t})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Account Number"}),Object(b.jsx)("td",{children:c})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Branch #"}),Object(b.jsx)("td",{children:s}),Object(b.jsx)("th",{children:"Bank Name"}),Object(b.jsx)("td",{children:a})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Institution #"}),Object(b.jsx)("td",{children:n})]})]})})})})}function dt(e){var t=Object(N.c)((function(e){return e.restaurant})).meals,c=Object(a.useState)([]),s=Object(r.a)(c,2),n=s[0],l=s[1];return Object(a.useEffect)((function(){l(t)}),[e,t]),Object(b.jsx)("div",{className:"row mt-2",children:n&&n.map((function(e,t){return Object(b.jsx)("div",{className:"row mt-2",children:Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"ibox px-4",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsx)("h5",{children:e.category})}),Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsx)("div",{className:"row",children:Array.isArray(e.items)&&e.items.map((function(e,t){return Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)("div",{className:"ibox",children:Object(b.jsxs)("div",{className:"ibox-content product-box active",children:[Object(b.jsx)("img",{className:"img-thumbnail",src:e.image,alt:"Meal"}),Object(b.jsxs)("div",{className:"product-desc",children:[Object(b.jsx)("span",{className:"product-price",children:e.day}),Object(b.jsxs)("div",{className:"row justify-content-between ml-1",children:[Object(b.jsx)("small",{className:"text-muted text-capitalize",children:e.type}),Object(b.jsx)("small",{className:"text-muted text-capitalize",children:e.slot})]}),Object(b.jsx)("a",{href:"/",className:"product-name",children:e.meal_name}),Object(b.jsx)("div",{className:"small m-t-xs",children:e.description}),Object(b.jsx)("hr",{className:"hr-line-dashed"}),Object(b.jsxs)("div",{className:"text-left",children:[Object(b.jsx)("h5",{children:"Add Ons"}),Object(b.jsxs)("table",{className:"table table-bordered",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)("small",{children:"Add On"})}),Object(b.jsx)("th",{children:Object(b.jsx)("small",{children:"Price"})}),Object(b.jsx)("th",{children:Object(b.jsx)("small",{children:"Image"})})]})}),Object(b.jsx)("tbody",{children:e.add_on&&e.add_on.map((function(e,t){return e.add_on?Object(b.jsxs)("tr",{className:"px-2 center",children:[Object(b.jsx)("td",{className:"text-muted text-capitalize",children:Object(b.jsx)("small",{children:e.add_on})}),Object(b.jsx)("td",{className:"text-muted text-capitalize",children:Object(b.jsx)("small",{children:"$"+e.add_on_price})}),Object(b.jsx)("td",{children:Object(b.jsx)("img",{className:"img-md",src:e.add_on_image,alt:"Add On"})})]},t):Object(b.jsx)("tr",{children:Object(b.jsx)("td",{children:"No add ons for this day"})})}))})]})]})]})]})})},t)}))})})]})})},t)}))})}function ot(e){var t=Object(N.c)((function(e){return e.restaurant})).price_plans,c=Object(a.useState)([]),s=Object(r.a)(c,2),n=s[0],l=s[1],i=Object(a.useState)(!1),j=Object(r.a)(i,2),d=j[0],o=j[1];return Object(a.useEffect)((function(){var e=!0;return e&&(l(t),o(!0)),function(){e=!1}}),[e,t]),d?Array.isArray(n)&&n.map((function(e,t){return Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsx)("h5",{children:e.category})}),Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsxs)("table",{className:"table table-bordered",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Plan"}),Object(b.jsx)("th",{scope:"col",children:"Base Price"}),Object(b.jsx)("th",{scope:"col",children:"Customer Price"}),Object(b.jsx)("th",{scope:"col",children:"Delivery Price"})]})}),Object(b.jsx)("tbody",{children:Array.isArray(e.plans)&&e.plans.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.plan_name}),Object(b.jsxs)("td",{children:["$",parseFloat(e.base_price)]}),Object(b.jsxs)("td",{children:["$",parseFloat(e.customer_price)]}),Object(b.jsxs)("td",{children:["$",0===parseFloat(e.delivery_price)?"N/A":parseFloat(e.delivery_price)]})]})}))})]})})]})})):Object(b.jsx)("div",{})}function bt(e){var t=e.currentStep,c=e.goToStep;return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{role:"tab",className:"col-lg-2",children:Object(b.jsx)("button",{type:"button",className:"btn w-150 ".concat(1===t?"btn-primary":""),onClick:function(){return c(1)},children:"Basic Info"})}),Object(b.jsx)("div",{role:"tab",className:"col-lg-2",children:Object(b.jsx)("button",{type:"button",className:"btn w-150 ".concat(2===t?"btn-primary":""),onClick:function(){return c(2)},children:"Documents"})}),Object(b.jsx)("div",{role:"tab",className:"col-lg-2",children:Object(b.jsx)("button",{type:"button",className:"btn w-150 ".concat(3===t?"btn-primary":""),onClick:function(){return c(3)},children:"Meals"})}),Object(b.jsx)("div",{role:"tab",className:"col-lg-2",children:Object(b.jsx)("button",{type:"button",className:"btn w-150 ".concat(4===t?"btn-primary":""),onClick:function(){return c(4)},children:"Meal Plan"})}),Object(b.jsx)("div",{role:"tab",className:"col-lg-2",children:Object(b.jsx)("button",{type:"button",className:"btn w-150 ".concat(5===t?"btn-primary":""),onClick:function(){return c(5)},children:"Bank Info"})})]})}function ut(e){var t=Object(l.h)().id,c=Object(N.b)();return Object(a.useEffect)((function(){console.log("This line is working"),c(pe(t)),console.log(t)}),[t]),Object(b.jsx)("div",{className:"wrapper wrapper-content",children:Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsx)("h5",{children:"View Restaurant"})}),Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsx)("div",{id:"form",className:"wizard-big",children:Object(b.jsxs)(Re.a,{isHashEnabled:!1,nav:Object(b.jsx)(bt,Object(q.a)({},e)),children:[Object(b.jsx)(lt,{stepName:"Basic",hashKey:"basic"}),Object(b.jsx)(it,{stepName:"Documents",hashKey:"docs"}),Object(b.jsx)(dt,{stepName:"Meals",hashKey:"meals"}),Object(b.jsx)(ot,{stepName:"Plans",hashKey:"plans"}),Object(b.jsx)(jt,{stepName:"Bank Info",hashKey:"bank_info"})]})})})]})})})}function mt(e){var t=Object(N.c)((function(e){return e})),c=t.restaurant,s=Object(a.useState)(""),n=Object(r.a)(s,2),l=n[0],i=n[1],j=Object(a.useState)(!1),d=Object(r.a)(j,2),o=d[0],u=d[1],m=Object(a.useState)({}),O=Object(r.a)(m,2),h=O[0],x=O[1];Object(a.useEffect)((function(){var e=!0;return e&&(x(c),i(c._id),u(!0)),function(){e=!1}}),[o,c]);var p=Object(N.b)(),f=function(e){var t=e.target,c=t.name,a=t.value;x((function(e){return Object(q.a)(Object(q.a)({},e),{},Object($e.a)({},c,a))}))},v=h.bank_name,g=h.account_name,y=h.account_number,w=h.branch_number,_=h.institution_number;return o?Object(b.jsxs)("fieldset",{children:[Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["ACCOUNT NAME ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"account_name",type:"text",className:"form-control required",defaultValue:g,onChange:function(e){return f(e)}})]})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["ACCOUNT NUMBER ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"account_number",type:"text",className:"form-control required",defaultValue:y,onChange:function(e){return f(e)}})]})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["CONFIRM ACCOUNT NUMBER ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"confirm_account_number",type:"text",className:"form-control required",onChange:function(e){return f(e)}})]})})]}),Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["BANK NAME ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"bank_name",type:"text",className:"form-control required",defaultValue:v,onChange:function(e){return f(e)}})]})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["BRANCH # ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"branch_number",type:"text",className:"form-control required",defaultValue:w,onChange:function(e){return f(e)}})]})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["INSTITUTION # ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"institution_number",type:"text",className:"form-control required",defaultValue:_,onChange:function(e){return f(e)}})]})})]}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-lg-12 justify-content-end",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-primary float-right mr-2",onClick:function(){u(!1),p(he(l,h)),alert("Restaurant updated successfully"),u(!0)},children:"Finish"}),Object(b.jsx)("button",{type:"button",className:"btn btn-default float-right mr-2 ",onClick:function(t){t.preventDefault(),e.goToStep(4)},children:"Previous"})]})})]}):Object(b.jsx)(Ce,{})}function Ot(e){var t=Object(a.useState)([]),c=Object(r.a)(t,2),s=c[0],n=c[1],l=Object(a.useState)(""),i=Object(r.a)(l,2),j=i[0],d=i[1],o=Object(a.useState)({}),u=Object(r.a)(o,2),h=u[0],p=u[1],f=Object(a.useState)(!1),v=Object(r.a)(f,2),g=v[0],y=v[1],w=Object(N.c)((function(e){return e})),_=w.restaurant,S=Object(N.b)(),C=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/cuisine/");case 2:t=e.sent,c=t.data,n(c),p(_);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=!0;return e&&(C(),d(_._id),y(!0)),function(){e=!1}}),[_,g]);var k=function(e){var t=e.target;p((function(e){return Object(q.a)(Object(q.a)({},e),{},Object($e.a)({},t.name,t.value))}))};return Object(b.jsxs)("fieldset",{children:[Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["RESTAURANT NAME ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"restaurant_name",defaultValue:h.restaurant_name,onChange:function(e){return k(e)},type:"text",className:"form-control required",required:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["OWNER NAME ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"owner_name",onChange:function(e){return k(e)},defaultValue:h.owner_name,type:"text",className:"form-control required"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["STATE ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"state",defaultValue:h.states,onChange:function(e){return k(e)},type:"text",className:"form-control required"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["CUISINE ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("select",{name:"cuisine_type",onChange:function(e){return k(e)},value:h.cuisine_type,className:"form-control required",children:s.map((function(e,t){return Object(b.jsx)("option",{name:e.cuisineName,value:e.cuisineName,children:e.cuisineName},t)}))})]})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["PHONE NUMBER ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"phone",defaultValue:h.phone,onChange:function(e){return k(e)},type:"text",className:"form-control required"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["STREET ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"locality",defaultValue:h.locality,onChange:function(e){return k(e)},type:"text",className:"form-control required"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["COUNTRY ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"country",defaultValue:h.country,onChange:function(e){return k(e)},type:"text",className:"form-control required"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["COMMISSION ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"commission",defaultValue:h.commission,onChange:function(e){return k(e)},type:"text",className:"form-control required"})]})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["EMAIL ADDRESS ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"email",defaultValue:h.email,onChange:function(e){return k(e)},type:"text",className:"form-control required"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["CITY ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"city",defaultValue:h.city,onChange:function(e){return k(e)},type:"text",className:"form-control required"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["POSTAL CODE ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"postal_code",defaultValue:h.postal_code,onChange:function(e){return k(e)},type:"text",className:"form-control required"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Meal Type ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("select",{className:"form-control required",name:"meal_type",value:h.meal_type,onChange:function(e){return k(e)},children:[Object(b.jsx)("option",{value:"Veg",children:"Veg"}),Object(b.jsx)("option",{value:"Non-Veg",children:"Non-Veg"})]})]})]})]}),Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["MEAL TIME ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("select",{className:"form-control required",name:"category",value:h.category,onChange:function(e){return k(e)},children:[Object(b.jsx)("option",{value:"Lunch",children:"Lunch"}),Object(b.jsx)("option",{value:"Dinner",children:"Dinner"}),Object(b.jsx)("option",{value:"Both",children:"Both"})]})]}),Object(b.jsx)(Le,{label:"Tax",required:!0,name:"taxes",type:"text",defaultValue:h.taxes,disabled:!0,handler:k})]}),Object(b.jsx)("div",{className:"col-8","aria-rowspan":2,children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["About ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("textarea",{className:"form-control form-control-plaintext",name:"about",onChange:function(e){return k(e)},defaultValue:h.about,rows:8})]})})]}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-12 justify-content-end",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary float-right mr-2",onClick:function(t){t.preventDefault(),S(he(j,h)),alert("Restaurant updated successfully"),e.goToStep(2)},children:"Next"})})})]})}function ht(e){var t=Object(N.b)(),c=Object(N.c)((function(e){return e})).restaurant,s=Object(a.useState)([]),n=Object(r.a)(s,2),l=(n[0],n[1]),i=Object(a.useState)({restaurant_image:""}),j=Object(r.a)(i,2),d=j[0],o=j[1],u=Object(a.useState)({banner_image:""}),m=Object(r.a)(u,2),O=m[0],h=m[1],x=Object(a.useState)([]),p=Object(r.a)(x,2),f=p[0],v=p[1],g=Object(a.useState)(""),y=Object(r.a)(g,2),w=y[0],_=y[1],S=Object(a.useState)(""),C=Object(r.a)(S,2),k=C[0],T=C[1],D=Object(a.useState)("Choose a file"),A=Object(r.a)(D,2),F=A[0],M=A[1],E=c.documents,I=c.papers;Object(a.useEffect)((function(){var e=!0;return e&&(l(E),Array.isArray(E)&&("object"===typeof E[0]&&o(E[0]),"object"===typeof E[1]&&h(E[1])),Array.isArray(I)&&v(I)),function(){e=!1}}),[E]);var P=function(e,t){var c=e.target,a=Object(qe.a)(f),s=c.files[0],n=s.name;M(n),Ye(s,(function(e){try{a[t].image=e,v(a)}catch(c){T(e)}})),_(s.name)};return Object(b.jsxs)("fieldset",{children:[Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",style:{borderTopColor:"#FFF",width:200},children:[Object(b.jsx)("h5",{children:"Profile Image"}),Object(b.jsxs)("div",{className:"ibox-tools",children:[Object(b.jsxs)("span",{className:"btn btn-white mr-1",children:[Object(b.jsx)("label",{htmlFor:"file-upload",style:{border:1,display:"inline-block",padding:0,cursor:"pointer",height:6,width:6},children:Object(b.jsx)("i",{className:"fa fa-camera",style:{left:-4,position:"relative"}})}),Object(b.jsx)("input",{id:"file-upload",type:"file",name:"restaurant_image",style:{display:"none"},onChange:function(e){var t=e.target.files[0];Ye(t,(function(e){o({restaurant_image:e})}))}})]}),Object(b.jsx)("span",{className:"btn btn-danger",children:Object(b.jsx)("i",{className:"fa fa-trash-o"})})]})]}),Object(b.jsx)("img",{loading:"lazy",alt:"profile",src:d.restaurant_image,className:"img-thumbnail",style:{height:180,width:180}})]})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",style:{borderTopColor:"#FFF",width:240},children:[Object(b.jsx)("h5",{children:"Banner Image"}),Object(b.jsxs)("div",{className:"ibox-tools",children:[Object(b.jsxs)("span",{className:"btn btn-white mr-1",children:[Object(b.jsx)("label",{htmlFor:"banner-upload",style:{border:1,display:"inline-block",padding:0,cursor:"pointer",height:6,width:6},children:Object(b.jsx)("i",{className:"fa fa-camera",style:{left:-4,position:"relative"}})}),Object(b.jsx)("input",{id:"banner-upload",type:"file",name:"banner_image",onChange:function(e){var t=e.target.files[0];Ye(t,(function(e){h({banner_image:e})}))},style:{display:"none"}})]}),Object(b.jsx)("span",{className:"btn btn-danger",children:Object(b.jsx)("i",{className:"fa fa-trash-o"})})]})]}),Object(b.jsx)("img",{loading:"lazy",alt:"profile",src:O.banner_image,className:"img-thumbnail",style:{height:180,width:240}})]})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsx)("div",{className:"ibox-title",style:{borderTopColor:"#FFF",width:240},children:Object(b.jsx)("h5",{children:"Add more images"})}),Object(b.jsx)("div",{className:"row row-sm",children:Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{id:"logo",name:"image",type:"file",className:"custom-file-input",onChange:function(e){return P(e)}}),Object(b.jsx)("label",{htmlFor:"logo",className:"custom-file-label",children:F})]})})}),Object(b.jsx)("div",{className:"row row-sm",children:Object(b.jsxs)("div",{className:"form-group col-lg-12",children:[Object(b.jsxs)("label",{children:["Image Name ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"image_name",type:"text",className:"form-control required",onChange:function(e){return function(e){var t=e.target,c=(t.name,t.value);_(c)}(e)}})]})}),Object(b.jsx)("div",{className:"row row-sm float-right",children:Object(b.jsx)("div",{className:"col-sm-3",children:Object(b.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){var e={image_name:w,image:k};v([].concat(Object(qe.a)(f),[e]))},children:"UPLOAD"})})})]})})]}),Object(b.jsx)("div",{className:"row mt-2",children:f.map((function(e,t){return Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",style:{borderTopColor:"#FFF",width:200},children:[Object(b.jsx)("h5",{children:e.image_name}),Object(b.jsxs)("div",{className:"ibox-tools",children:[Object(b.jsxs)("span",{className:"btn btn-white mr-1",children:[Object(b.jsx)("label",{htmlFor:"paper-upload",style:{border:1,display:"inline-block",padding:0,cursor:"pointer",height:6,width:6},children:Object(b.jsx)("i",{className:"fa fa-camera",style:{left:-4,position:"relative"}})}),Object(b.jsx)("input",{id:"paper-upload",type:"file",name:e.image_name,style:{display:"none"},onChange:function(e){return P(e,t)}})]}),Object(b.jsx)("span",{className:"btn btn-danger",onClick:function(){return function(e){var t=Object(qe.a)(f);t.splice(e,1),v(t)}(t)},children:Object(b.jsx)("i",{className:"fa fa-trash-o"})})]})]}),Object(b.jsx)("img",{loading:"lazy",alt:"profile",src:e.image,className:"img-thumbnail",style:{height:180,width:180}})]})},t)}))}),Object(b.jsx)("div",{className:"row mt-2",children:Object(b.jsxs)("div",{className:"col-lg-12 justify-content-end",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-primary float-right mr-2 ",onClick:function(c){t(we([d,O],Object(qe.a)(f))),alert("Restaurant updated successfully"),e.goToStep(3)},children:"Next"}),Object(b.jsx)("button",{type:"button",className:"btn btn-default float-right mr-2 ",onClick:function(t){t.preventDefault(),e.goToStep(1)},children:"Previous"})]})})]})}function xt(e){var t=e.day,c=e.index,s=e.addMeal,n=Object(a.useState)([{add_on:"",add_on_price:"",add_on_image:""}]),l=Object(r.a)(n,2),i=l[0],j=l[1],d=Object(a.useState)({meal_name:"",day:t,slot:"",type:"",description:"",image:"",add_on:Object(qe.a)(i)}),o=Object(r.a)(d,2),u=o[0],h=o[1],x=Object(a.useState)(""),p=Object(r.a)(x,2),f=p[0],v=p[1],N=function(e,t){var c=t.target,a=c.name,s=c.value;h((function(e){return Object(q.a)(Object(q.a)({},e),{},Object($e.a)({},a,s))}))},g=function(e,t){var c=Object(qe.a)(i),a=Object(q.a)({},i[e]);a[t.target.name]=t.target.value,c[e]=a,j(c)},y=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t,c){var a,s,n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(qe.a)(i),s=Object(q.a)({},i[t]),n=c.target.files[0],e.next=5,Ye(n,(function(e){s[c.target.name]=e,a[t]=s}));case 5:j(a);case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();return Object(b.jsxs)("fieldset",{children:[Object(b.jsx)("div",{className:"row mt-1",children:Object(b.jsx)("div",{className:"col-lg-12 justify-content-end",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary float-right mr-2 ",onClick:function(){var e=Object(q.a)({},u);e.add_on=i,s(e)},children:"Save"})})}),Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Available As ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("select",{id:"name",name:"slot",className:"form-control required",onChange:function(e){return N(0,e)},children:[Object(b.jsx)("option",{children:"Choose an option"}),Object(b.jsx)("option",{value:"Lunch",children:"Lunch"}),Object(b.jsx)("option",{value:"Dinner",children:"Dinner"})]})]})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Meal Type ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("select",{name:"type",className:"form-control required",onChange:function(e){return N(0,e)},children:[Object(b.jsx)("option",{children:"Choose an option"}),Object(b.jsx)("option",{value:"veg",children:"Veg"}),Object(b.jsx)("option",{value:"non-veg",children:"Non-Veg"})]})]})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Meal Name ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"meal_name",type:"text",className:"form-control required email",onChange:function(e){return N(0,e)}})]})})]}),Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Meal Image"}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{id:"logo",type:"file",className:"custom-file-input",onChange:function(e){return function(e,t){var c=t.target.files[0];v(c.name),Ye(c,(function(e){h((function(t){return Object(q.a)(Object(q.a)({},t),{},{image:e})}))}))}(0,e)}}),Object(b.jsx)("label",{htmlFor:"logo",className:"custom-file-label",children:f})]})]})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Meal Description ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("textarea",{className:"form-control form-control-plaintext",name:"description",onChange:function(e){return N(0,e)}})]})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Day ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("select",{id:"name",name:"day",className:"form-control required",onChange:function(e){return N(0,e)},children:[Object(b.jsx)("option",{children:"Choose an option"}),Object(b.jsx)("option",{value:"Monday",children:"Monday"}),Object(b.jsx)("option",{value:"Tuesday",children:"Tuesday"}),Object(b.jsx)("option",{value:"Wednesday",children:"Wednesday"}),Object(b.jsx)("option",{value:"Thursday",children:"Thursday"}),Object(b.jsx)("option",{value:"Friday",children:"Friday"}),Object(b.jsx)("option",{value:"Saturday",children:"Saturday"}),Object(b.jsx)("option",{value:"Sunday",children:"Sunday"})]})]})})]}),i.map((function(e,t){return Object(b.jsxs)("div",{className:"row mt-2",children:[Object(b.jsx)("div",{className:"col-lg-3",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Add On"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"add_on",value:e.add_on,onChange:function(e){return g(t,e)}})]})}),Object(b.jsx)("div",{className:"col-lg-3",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Price"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"add_on_price",value:e.add_on_price,onChange:function(e){return g(t,e)}})]})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Add On Image"}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{id:"logo",type:"file",value:e.add_on_image,className:"custom-file-input",name:"add_on_image",onChange:function(e){return y(t,e)}}),Object(b.jsx)("label",{htmlFor:"logo",className:"custom-file-label",children:"Choose File..."})]})]})}),Object(b.jsx)("div",{className:"col-lg-2",children:Object(b.jsxs)("div",{className:"form-inline mt-4 py-2",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-default mr-2",onClick:function(e){j([].concat(Object(qe.a)(i),[{add_on:"",add_on_price:"",add_on_image:""}]))},children:Object(b.jsx)("i",{className:"fa fa-plus"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return function(e){var t=Object(qe.a)(i);t.splice(e,1),j(t)}(t)},children:Object(b.jsx)("i",{className:"fa fa-trash-o"})})]})})]},t)}))]},c)}function pt(e){var t=e.meal_add_on,c=Object(a.useState)(t),s=Object(r.a)(c,2),n=s[0],l=s[1];return Object(a.useEffect)((function(){l(t)}),[t]),Object(b.jsx)("div",{className:"ibox-content table-responsive",children:Object(b.jsxs)("table",{className:"table table-hover no-margins",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:Object(b.jsx)("h5",{children:"Add On"})}),Object(b.jsx)("th",{children:Object(b.jsx)("h5",{children:"Image"})}),Object(b.jsx)("th",{children:Object(b.jsx)("h5",{children:"Price"})}),Object(b.jsx)("th",{children:Object(b.jsx)("span",{className:"btn btn-outline-primary",onClick:function(){},children:Object(b.jsx)("i",{className:"fa fa-plus"})})})]})}),Object(b.jsx)("tbody",{children:Array.isArray(n)&&n.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{style:{width:"35%"},children:e.add_on}),Object(b.jsx)("td",{style:{width:"40%"},children:Object(b.jsx)("img",{src:e.add_on_image,alt:"Extras",className:"card-img",style:{height:80,width:120}})}),Object(b.jsx)("td",{style:{width:"15%"},children:"$"+e.add_on_price}),Object(b.jsx)("td",{style:{width:"10%",flexDirection:"row"},children:Object(b.jsx)("span",{className:"btn btn-outline-danger",onClick:function(){},children:Object(b.jsx)("i",{className:"fa fa-trash-o"})})})]},t)}))})]})})}function ft(e){var t=e.meal_name,c=e.meal_image,s=e.meal_day,n=e.meal_description,l=e.meal_slot,i=e.meal_type,j=e.meal_add_on,d=Object(a.useState)(t),o=Object(r.a)(d,2),u=o[0],m=(o[1],Object(a.useState)(c)),O=Object(r.a)(m,2),h=O[0],x=(O[1],Object(a.useState)(s)),p=Object(r.a)(x,2),f=p[0],v=(p[1],Object(a.useState)(n)),N=Object(r.a)(v,2),g=N[0],y=(N[1],Object(a.useState)(l)),w=Object(r.a)(y,2),_=w[0],S=(w[1],Object(a.useState)(i)),C=Object(r.a)(S,2),k=C[0],T=(C[1],Object(a.useState)(!1)),D=Object(r.a)(T,2),A=D[0],F=D[1],M=Object(a.useState)(j),E=Object(r.a)(M,2),I=E[0];E[1];return Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"ibox card",children:[Object(b.jsxs)("div",{className:"ibox-title",style:{borderTopColor:"transparent"},children:[A?Object(b.jsx)("input",{name:"day",placeholder:"Day",className:"form-control col-md-6",onChange:function(e){}}):Object(b.jsx)("h5",{children:f}),Object(b.jsxs)("div",{className:"ibox-tools",children:[Object(b.jsx)("span",{className:" btn btn-outline-primary mr-1",onClick:function(){return F(!A)},children:Object(b.jsx)("i",{className:"".concat(A?"fa fa-save":"fa fa-pencil")})}),Object(b.jsx)("span",{className:"btn btn-outline-danger",onClick:function(){},children:Object(b.jsx)("i",{className:"fa fa-trash"})})]})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("img",{src:h,className:"img-fluid",alt:"Meal",style:{width:"100%",height:220}}),Object(b.jsx)("div",{className:"mt-1"}),A&&Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{id:"meal_image",type:"file",className:"custom-file-input",onChange:function(e){}}),Object(b.jsx)("label",{htmlFor:"meal_image",className:"custom-file-label",children:"Choose file..."})]}),Object(b.jsxs)("div",{className:"row mt-1",children:[Object(b.jsx)("div",{className:"col-8",children:A?Object(b.jsx)("input",{name:"name",placeholder:"Meal Name",className:"form-control",onChange:function(e){}}):Object(b.jsx)("h5",{className:"text-uppercase",children:u})}),Object(b.jsx)("div",{className:"col-4",children:A?Object(b.jsx)("input",{name:"slot",placeholder:"Slot",className:"form-control",onChange:function(e){}}):Object(b.jsx)("h5",{className:"text-capitalize",style:{fontSize:10},children:_})})]}),Object(b.jsxs)("div",{className:"row mt-1",children:[Object(b.jsx)("div",{className:"col-8",children:A?Object(b.jsx)("input",{name:"description",placeholder:"Little description here",className:"form-control",onChange:function(e){}}):Object(b.jsx)("p",{className:"text-capitalize",children:g})}),Object(b.jsx)("div",{className:"col-4",children:A?Object(b.jsx)("input",{name:"type",placeholder:"Meal Type",className:"form-control",onChange:function(e){}}):Object(b.jsx)("h5",{className:"text-capitalize ".concat(k,"=='veg'?'text-success':'text-danger'"),style:{fontSize:8},children:k})})]}),Object(b.jsx)(pt,{meal_add_on:I})]})]})})}function vt(e){var t=Object(N.c)((function(e){return e})).restaurant,c=Object(a.useState)([]),s=Object(r.a)(c,2),n=s[0],l=s[1],i=Object(a.useState)(!1),j=Object(r.a)(i,2),d=(j[0],j[1],Object(a.useState)(!1)),o=Object(r.a)(d,2),u=(o[0],o[1],Object(a.useState)(0)),m=Object(r.a)(u,2),O=(m[0],m[1],Object(a.useState)(!1)),h=Object(r.a)(O,2),x=h[0],p=h[1],f=Object(a.useState)({add_on:"",add_on_image:"",add_on_price:""}),v=Object(r.a)(f,2),g=(v[0],v[1],Object(N.b)());return Object(a.useEffect)((function(){var e=!0;if(e){var c=t.meals;Array.isArray(c)&&l(c)}return function(){e=!1}}),[t]),Object(b.jsxs)("fieldset",{children:[Object(b.jsx)("div",{className:"row",children:n.length>0?n.map((function(e,t){return Object(b.jsx)("div",{className:"row mt-2",children:Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"ibox px-4",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsx)("h5",{children:e.category})}),Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsx)("div",{className:"row",children:Array.isArray(e.items)&&e.items.map((function(e,t){return Object(b.jsx)(ft,{meal_name:e.meal_name,meal_description:e.description,meal_image:e.image,meal_slot:e.slot,meal_day:e.day,meal_type:e.type,meal_add_on:e.add_on},t)}))})})]})})},t)})):Object(b.jsx)("div",{className:"col-lg-8",children:Object(b.jsx)("p",{children:"You have not added any meals"})})}),Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("h5",{children:"Add More Meals"}),Object(b.jsx)("div",{className:"ibox-tools",children:Object(b.jsx)("span",{className:"btn btn-outline-info",type:"button",onClick:function(){return p(!0)},children:Object(b.jsx)("i",{className:"fa fa-plus"})})})]}),Object(b.jsx)("div",{className:"ibox-content",children:x?Object(b.jsx)(xt,{addMeal:function(e){l([].concat(Object(qe.a)(n),[e])),p(!1)}}):null})]}),Object(b.jsxs)("div",{className:"col-lg-12 justify-content-end",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-primary float-right mr-2 ",onClick:function(t){g(_e(n)),alert("Restaurant updated successfully"),e.goToStep(4)},children:"Next"}),Object(b.jsx)("button",{type:"button",className:"btn btn-default float-right mr-2 ",onClick:function(t){t.preventDefault(),e.goToStep(2)},children:"Previous"})]})]})}function Nt(e){var t=e.handler,c=e.setCategory,s=e.category,n=Object(a.useState)(!1),l=Object(r.a)(n,2),i=l[0],j=l[1],d=function(e){var t=e.target.id;c(t)};return Object(b.jsxs)("div",{className:"row px-0",children:[Object(b.jsx)("div",{className:"col-sm-10 m-b-xs",children:Object(b.jsxs)("div",{"data-toggle":"buttons",className:"btn-group btn-group-toggle",children:[Object(b.jsxs)("label",{className:"btn btn-sm btn-white",children:[Object(b.jsx)("input",{type:"radio",id:"Lunch",checked:"Lunch"===s,name:"category",onChange:function(e){return d(e)}}),"Lunch"]}),Object(b.jsxs)("label",{className:"btn btn-sm btn-white",children:[Object(b.jsx)("input",{type:"radio",id:"Dinner",checked:"Dinner"===s,name:"category",onChange:function(e){return d(e)}})," Dinner"]})]})}),Object(b.jsx)("div",{className:"col-sm-2",children:Object(b.jsxs)("div",{className:"d-flex align-items-baseline",children:[Object(b.jsx)("input",{type:"checkbox",checked:i,onChange:function(e){return function(e){j(e.target.checked),t(e.target.checked)}(e)},id:"checkbox1"}),Object(b.jsx)("label",{htmlFor:"checkbox1",children:"  Provide Delivery"})]})})]})}function gt(e){var t=e.isDelivery,c=e.onChangePrice,s=e.plans,n=e.category,l=Object(a.useState)((function(){return s.map((function(e){return{plan_name:e.plan_name,profit_margin:"",base_price:"",customer_price:e.profit_margin,delivery_price:""}}))})),i=Object(r.a)(l,2),j=i[0],d=i[1],o=Object(a.useState)(j.map((function(e){return Number(e.base_price)+Number(e.profit_margin)}))),u=Object(r.a)(o,2),m=u[0],O=u[1],h=Object(a.useState)(!1),x=Object(r.a)(h,2),p=x[0],f=x[1],v=Object(a.useState)(0),N=Object(r.a)(v,2),g=N[0],y=N[1];Object(a.useEffect)((function(){var e=!0;return e&&d(s),function(){e=!1}}),[s]),Object(a.useEffect)((function(){d(s.map((function(e){return{plan_name:e.plan_name,profit_margin:e.profit_margin,base_price:"",customer_price:e.profit_margin,delivery_price:""}}))),f(!1),y(0),O(s.map((function(e){return Number(e.profit_margin)})))}),[n,s]),Object(a.useEffect)((function(){var e=!1;j.forEach((function(t){""===t.base_price&&""===t.delivery_price||(e=!0)})),f(e)}),[j]),Object(a.useEffect)((function(){p&&g===s.length&&c(n,j)}),[p,g,j,c,s,n]);return j.map((function(e,c){return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-sm-4 col-md-4",children:Object(b.jsx)(Le,{type:"text",label:"Base price for ".concat(e.plan_name),name:"base_price_".concat(e.plan_name),required:!0,handler:function(e){return function(e,t){var c=Number(t.target.value),a=c+Number(j[e].profit_margin);O((function(t){var c=Object(qe.a)(t);return c[e]=a,c})),d((function(t){var s=Object(qe.a)(t);return s[e].base_price=c.toString(),s[e].customer_price=a.toString(),s})),y((function(e){return e+1}))}(c,e)},defaultValue:e.base_price})}),Object(b.jsx)("div",{className:"col-sm-4 col-md-4",children:Object(b.jsx)(Le,{type:"text",label:"Customer price for ".concat(e.plan_name),name:"customer_price_".concat(e.plan_name),required:!0,defaultValue:m[c],readOnly:!0,disabled:!0})}),Object(b.jsx)("div",{className:"col-sm-4 col-md-4",children:Object(b.jsx)(Le,{type:"text",label:"Delivery price for ".concat(e.plan_name),name:"delivery_price_".concat(e.plan_name),required:!1,disabled:!t,handler:function(e){return function(e,t){var c=Number(t.target.value);d((function(t){var a=Object(qe.a)(t);return a[e].delivery_price=c.toString(),a}))}(c,e)}})})]},c)}))}function yt(e){var t=Object(a.useState)(!1),c=Object(r.a)(t,2),s=c[0],n=c[1],l=Object(a.useState)([]),i=Object(r.a)(l,2),j=i[0],d=i[1],o=Object(a.useState)("Lunch"),u=Object(r.a)(o,2),h=u[0],x=u[1],p=Object(a.useState)([]),f=Object(r.a)(p,2),v=f[0],g=f[1],y=Object(N.c)((function(e){return e})).restaurant;Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve();case 2:t=e.sent,d(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t=!0;return t&&function(){e.apply(this,arguments)}(),function(){t=!1}}),[]),Object(a.useEffect)((function(){var e=!0;if(e){var t=y.price_plans;g(t)}return function(){e=!1}}),[y]);var w=Object(a.useCallback)((function(e,t){g((function(e){return e.map((function(e){return e.category===h?Object(q.a)(Object(q.a)({},e),{},{plans:[].concat(Object(qe.a)(e.plans),[t])}):e}))}))}),[h,g]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"ibox-content px-0",children:[Object(b.jsx)(Nt,{handler:function(e){n(e)},setCategory:function(e){x(e)},category:h}),Object(b.jsx)(gt,{isDelivery:s,onChangePrice:w,plans:j,category:h})]}),Object(b.jsx)(Be,{currentStep:4,props:e,handler:function(){console.log("===================================="),console.log(v),console.log("====================================")},data:v})]})}function wt(e){var t=Object(N.c)((function(e){return e})),c=t.restaurant,s=Object(a.useState)({}),n=Object(r.a)(s,2),i=n[0],j=n[1],d=Object(a.useState)(!1),o=Object(r.a)(d,2),u=o[0],h=o[1],p=Object(a.useState)(""),f=Object(r.a)(p,2),v=(f[0],f[1]),g=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(!1),e.next=4,x.a.put("/api/newrest/"+y,c);case 4:a=e.sent,a.data,h(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=Object(l.h)().id,w=Object(N.b)();return Object(a.useEffect)((function(){var e=!0;if(e){var t=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(pe(y));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t(y),h(!0)}return function(){e=!1}}),[y]),Object(a.useEffect)((function(){var e=!0;return e&&j(c),function(){e=!1}}),[u,y]),Object(a.useEffect)((function(){var e=!0;return e&&v(c.status),function(){e=!1}}),[c]),u?Object(b.jsx)("div",{className:"wrapper wrapper-content",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsx)("div",{className:"ibox-title",children:Object(b.jsx)("h5",{children:"Edit Restaurant"})}),Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsxs)("form",{className:"wizard-big",onSubmit:function(e){return g(e)},children:[Object(b.jsx)("div",{className:"row justify-content-end mt-2",children:Object(b.jsx)(nt,{name:"status",values:["Unapproved","Active","Inactive"],handler:function(e){v(e),console.log(e)}})}),Object(b.jsx)("br",{}),Object(b.jsxs)(Re.a,{isHashEnabled:!1,nav:Object(b.jsx)(bt,Object(q.a)({},e)),children:[Object(b.jsx)(Ot,{stepName:"Basic",restaurant:i}),Object(b.jsx)(ht,{stepName:"Documents",restaurant:i}),Object(b.jsx)(vt,{stepName:"Meals",restaurant:i}),Object(b.jsx)(yt,{stepName:"Plans",restaurant:i}),Object(b.jsx)(mt,{stepName:"Bank Info",restaurant:i})]})]})})]})}):Object(b.jsx)(Ce,{})}var _t=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),l=Object(r.a)(n,2),i=l[0],j=l[1],d=Object(a.useState)(""),o=Object(r.a)(d,2),u=o[0],h=o[1],x=Object(a.useState)("Cuisine image"),p=Object(r.a)(x,2),f=p[0],v=p[1],N=Object(a.useState)(!1),g=Object(r.a)(N,2),y=g[0],w=g[1];Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,Ne();case 3:t=e.sent,s(t),w(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var _=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={image:u,cuisineName:i},w(!0),e.next=4,ye(t);case 4:c=e.sent,w(!1),alert(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return y?Object(b.jsx)(Ce,{}):Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsxs)("div",{className:"row d-flex align-items-center",children:[Object(b.jsx)("div",{className:"col-5",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["CUISINE NAME ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("input",{name:"cuisineName",onChange:function(e){return function(e){var t=e.target;j(t.value)}(e)},type:"text",className:"form-control required"})]})}),Object(b.jsx)("div",{className:"col-5",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["IMAGE ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{name:"restaurant_image",type:"file",className:"custom-file-input",accept:".jpeg, .png, .jpg",onChange:function(e){var t=e.target.files[0];v(t.name),Ye(t,(function(e){h(e)}))}}),Object(b.jsx)("label",{htmlFor:"logo",className:"custom-file-label",children:f})]})]})}),Object(b.jsx)("div",{className:"col-2",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:_,children:"SAVE"})})]}),Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"ID"}),Object(b.jsx)("th",{scope:"col",children:"Cuisine Name"}),Object(b.jsx)("th",{scope:"col",children:"Cuisine Image"}),Object(b.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(b.jsx)("tbody",{children:c.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:e.cuisine_id}),Object(b.jsx)("td",{children:e.cuisineName}),Object(b.jsx)("td",{children:Object(b.jsx)("img",{src:e.image,className:"img-md",alt:e.cuisineName})}),Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:"/cuisine/".concat(e._id),children:Object(b.jsx)("i",{className:"fa fa-trash text-danger tx-118-f"})})})]},t)}))})]})]})};function St(e){var t=e.slots,c=e.timepicker,s=e.deleteSlots,n=e.addSlots,l=Object(a.useState)(""),i=Object(r.a)(l,2),j=i[0],d=i[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsx)("div",{className:"ibox-heading",children:Object(b.jsx)("h3",{className:"ibox-title",children:"Current Slots"})}),Object(b.jsx)("div",{className:"ibox-content",children:t.map((function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"row justify-content-between",children:[Object(b.jsxs)("div",{className:"col-lg-10",children:[Object(b.jsxs)("strong",{children:[e.slot_name,": "]})," ",e.slot_time]}),Object(b.jsx)("div",{className:"col-lg-2",children:Object(b.jsx)("button",{type:"button",className:"btn btn-outline-danger",onClick:function(){return s(t)},children:Object(b.jsx)("i",{className:"fa fa-trash-o"})})})]}),Object(b.jsx)("hr",{className:"hr-line-solid"})]},t)}))})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-lg-8",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Select a time ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("select",{name:"slot",className:"form-control required",onChange:function(e){return function(e){d(e.target.value)}(e)},defaultValue:"10-11 AM",children:c.map((function(e,t){return Object(b.jsx)("option",{value:e.time,name:"slot",children:e.time},t)}))})]})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary mt-4",onClick:function(){n(j)},children:"SAVE"})})]})]})}var Ct=[{id:1,time:"10-11 AM"},{id:2,time:"11-12 AM"},{id:3,time:"12-1 PM"},{id:4,time:"1-2 PM"},{id:5,time:"2-3 PM"}],kt=[{id:1,time:"4-5 PM"},{id:1,time:"5-6 PM"},{id:2,time:"6-7 PM"},{id:3,time:"7-8 PM"},{id:4,time:"8-9 PM"},{id:5,time:"9-10 PM"}];function Tt(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),l=Object(r.a)(n,2),i=l[0],j=l[1],d=Object(a.useState)("lunch"),o=Object(r.a)(d,2),u=o[0],h=o[1];Object(a.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/slots");case 2:t=e.sent,c=t.data,s(c[0].lunchSlots),j(c[0].dinnerSlots);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var p=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var a,n,r,l,d,o,b;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="lunch"===u?c.length+1:i.length+1,n="Slot ".concat(a),r={id:a,slot_name:n,slot_time:t},"lunch"!==u){e.next=12;break}return s([].concat(Object(qe.a)(c),[r])),e.next=7,x.a.put("/api/slots/61601a6cd0b32f4f0cdf35aa",{lunchSlots:[].concat(Object(qe.a)(c),[r]),dinnerSlots:i});case 7:l=e.sent,d=l.data,alert(d.msg),e.next=18;break;case 12:return j([].concat(Object(qe.a)(i),[r])),e.next=15,x.a.put("/api/slots/61601a6cd0b32f4f0cdf35aa",{lunchSlots:c,dinnerSlots:[].concat(Object(qe.a)(i),[r])});case 15:o=e.sent,b=o.data,alert(b.msg);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var a,n,r,l,d;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a="lunch"===u?Object(qe.a)(c):Object(qe.a)(i)).splice(t,1),"lunch"!==u){e.next=11;break}return s(a),e.next=6,x.a.put("/api/slots/61601a6cd0b32f4f0cdf35aa",{lunchSlots:a,dinnerSlots:i});case 6:n=e.sent,r=n.data,alert(r.msg),e.next=17;break;case 11:return j(a),e.next=14,x.a.put("/api/slots/61601a6cd0b32f4f0cdf35aa",{lunchSlots:c,dinnerSlots:a});case 14:l=e.sent,d=l.data,alert(d.msg);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(ct.a,{defaultActiveKey:"lunch",onSelect:function(e){return h(e)},className:"mt-2",children:[Object(b.jsx)(at.a,{eventKey:"lunch",title:"Lunch",children:Object(b.jsx)(St,{slots:c,timepicker:Ct,addSlots:p,deleteSlots:f})}),Object(b.jsx)(at.a,{eventKey:"dinner",title:"Dinner",children:Object(b.jsx)(St,{slots:i,timepicker:kt,addSlots:p,deleteSlots:f})})]})}var Dt=function(){return function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/plans/");case 2:return c=e.sent,e.next=5,c.data;case 5:return a=e.sent,t({type:F,payload:a}),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function At(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(N.c)((function(e){return e.plans})).plans,l=Object(N.b)();Object(a.useEffect)((function(){l(Dt())}),[l]);var i=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t,c,a){var s,n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.value,n={profit_margin:s},e.next=4,x.a.put("/api/plans/".concat(c),n);case 4:case"end":return e.stop()}}),e)})));return function(t,c,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,l(Dt());case 3:s(!1),alert("Plan successfully updated");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c?Object(b.jsx)(Ce,{}):Object(b.jsxs)("div",{className:"ibox-content",children:[Array.isArray(n)&&n.map((function(e,t){return Object(b.jsx)("div",{className:"row mt-1",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:[e.plan_name," ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"input-group m-b",children:[Object(b.jsx)("div",{className:"input-group-prepend",children:Object(b.jsx)("span",{className:"input-group-addon",children:"$"})}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"".concat(e.code_name),onChange:function(c){var a=c.target;return i(a,e._id,t)},defaultValue:e.profit_margin}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("span",{className:"input-group-addon",children:".00"})})]})]})})},t)})),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-12 d-flex justify-content-end",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-default mr-2",children:"Cancel"}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:j,children:"Update"})]})})]})}function Ft(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)({pack_name:"",rpc:"",duration:""}),l=Object(r.a)(n,2),i=l[0],j=l[1],d=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/banner");case 2:return t=e.sent,e.next=5,t.data;case 5:c=e.sent,a=c.data,s(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){d()}),[]);var o=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/banner/",i);case 2:t=e.sent,c=t.data.msg,alert(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(e){var t=e.target,c=t.name,a=t.value;j(Object(q.a)(Object(q.a)({},i),{},Object($e.a)({},c,a)))};return Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("table",{className:"table table-bordered",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Advert ID"}),Object(b.jsx)("th",{children:"Pack Name"}),Object(b.jsx)("th",{children:"RPC ($)"}),Object(b.jsx)("th",{children:"Status"}),Object(b.jsx)("th",{children:"Duration (Days)"}),Object(b.jsx)("th",{children:"Actions"})]})}),Object(b.jsx)("tbody",{children:c.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e._id}),Object(b.jsx)("td",{children:e.pack_name}),Object(b.jsx)("td",{children:e.rpc}),Object(b.jsx)("td",{children:e.status}),Object(b.jsx)("td",{children:e.duration}),Object(b.jsx)("td",{children:Object(b.jsx)("a",{href:"/banner/".concat(e._id),children:Object(b.jsx)("i",{className:"fa fa-trash text-danger tx-118-f"})})})]},t)}))})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Pack Name ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("div",{className:"input-group m-b",children:Object(b.jsx)("input",{type:"text",className:"form-control",name:"pack_name",onChange:function(e){return u(e)}})})]})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Duration ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsx)("div",{className:"input-group m-b",children:Object(b.jsx)("input",{type:"text",className:"form-control",name:"duration",onChange:function(e){return u(e)}})})]})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Rate/Click ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"input-group m-b",children:[Object(b.jsx)("div",{className:"input-group-prepend",children:Object(b.jsx)("span",{className:"input-group-addon",children:"$"})}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"rpc",onChange:function(e){return u(e)}}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("span",{className:"input-group-addon",children:".00"})})]})]})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-lg-12 justify-content-end",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-primary float-right mr-2",onClick:o,children:"Save"}),Object(b.jsx)("button",{type:"button",className:"btn btn-default float-right mr-2 ",children:"Cancel"})]})})]})}function Mt(){var e=Object(a.useState)({_id:"",delivery_1_fee:"",delivery_2_fee:"",delivery_7_fee:"",delivery_15_fee:"",delivery_30_fee:"",service_fee:"",commission:"",charges:""}),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!1),l=Object(r.a)(n,2),i=l[0],j=l[1];Object(a.useEffect)((function(){var e=!0,t=function(){var t=Object(O.a)(Object(m.a)().mark((function t(){var c;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("/api/checkout/6088240787ea8208fcb85863");case 2:c=t.sent,e&&s(c.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[]);var d=function(e){var t=e.target,c=t.name,a=t.value;s((function(e){return Object(q.a)(Object(q.a)({},e),{},Object($e.a)({},c,a))}))},o=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,x.a.put("/api/checkout/6088240787ea8208fcb85863",c);case 3:200===e.sent.status&&(j(!1),alert("Charges updated"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i?Object(b.jsx)(Ce,{}):Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Commission ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"input-group m-b",children:[Object(b.jsx)("div",{className:"input-group-prepend",children:Object(b.jsx)("span",{className:"input-group-addon",children:"%"})}),Object(b.jsx)("input",{type:"text",className:"form-control",defaultValue:c.commission,name:"commission",onChange:d}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("span",{className:"input-group-addon",children:".00"})})]})]})})}),[1,2,7,15,30].map((function(e){return Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Delivery Fee (",e," Meals)"," ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"input-group m-b",children:[Object(b.jsx)("div",{className:"input-group-prepend",children:Object(b.jsx)("span",{className:"input-group-addon",children:"$"})}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"delivery_".concat(e,"_fee"),onChange:d,defaultValue:c["delivery_".concat(e,"_fee")]}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("span",{className:"input-group-addon",children:".00"})})]})]})})},e)})),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Service Charges ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"input-group m-b",children:[Object(b.jsx)("div",{className:"input-group-prepend",children:Object(b.jsx)("span",{className:"input-group-addon",children:"%"})}),Object(b.jsx)("input",{type:"text",className:"form-control",defaultValue:c.service_fee,name:"service_fee",onChange:d}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("span",{className:"input-group-addon",children:".00"})})]})]})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Taxes ",Object(b.jsx)("strong",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"input-group m-b",children:[Object(b.jsx)("div",{className:"input-group-prepend",children:Object(b.jsx)("span",{className:"input-group-addon",children:"%"})}),Object(b.jsx)("input",{type:"text",className:"form-control",defaultValue:c.taxes,name:"taxes",onChange:d}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("span",{className:"input-group-addon",children:".00"})})]})]})})}),Object(b.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-default mr-2",children:"Cancel"}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:o,children:"Update"})]})]})}function Et(){return Object(b.jsxs)(ct.a,{defaultActiveKey:"profit_margin",children:[Object(b.jsx)(at.a,{eventKey:"profit_margin",title:"Profit Margin",children:Object(b.jsx)(At,{})}),Object(b.jsx)(at.a,{eventKey:"charges",title:"Service Charges",children:Object(b.jsx)(Mt,{})}),Object(b.jsx)(at.a,{eventKey:"cuisine",title:"Cuisine",children:Object(b.jsx)(_t,{})}),Object(b.jsx)(at.a,{eventKey:"slots",title:"Delivery Slots",children:Object(b.jsx)(Tt,{})}),Object(b.jsx)(at.a,{eventKey:"promos",title:"Promos",children:Object(b.jsx)(Ft,{})})]})}function It(){return Object(b.jsx)("div",{className:"wrapper wrapper-content",children:Object(b.jsx)(Et,{})})}var Pt=c(159),Rt=c(158);function qt(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(l.g)().pathname,i=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api"+n,e.next=3,x.a.delete(t);case 3:null!==e.sent&&(s(!1),window.history.back());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(Pt.a,{show:c,onHide:function(){return s(!c)},children:[Object(b.jsx)(Pt.a.Header,{closeButton:!0,children:Object(b.jsx)(Pt.a.Title,{children:" Are you sure to delete?"})}),Object(b.jsx)(Pt.a.Body,{children:"Action cannot be reversed!"}),Object(b.jsxs)(Pt.a.Footer,{children:[Object(b.jsx)(Rt.a,{variant:"secondary",onClick:function(){return s(!c)},children:"Close"}),Object(b.jsx)(Rt.a,{variant:"danger",onClick:i,children:"Delete"})]})]})}function $t(e){var t=e.showModal,c=Object(a.useState)([]),s=Object(r.a)(c,2),n=s[0],l=s[1],i=Object(a.useState)(""),j=Object(r.a)(i,2),d=j[0],o=j[1],u=Object(a.useState)(""),h=Object(r.a)(u,2),p=h[0],f=h[1],v=Object(a.useState)(""),N=Object(r.a)(v,2),g=N[0],y=N[1],w=Object(a.useState)(""),_=Object(r.a)(w,2),S=_[0],C=_[1],k=Object(a.useState)(""),T=Object(r.a)(k,2),D=T[0],A=T[1],F=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c,a,s,n,r,i,j;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/admin-coupon");case 2:t=e.sent,c=t.data,a=c.coupons,s=c.numOrders,n=c.sales,r=c.twoPlans,i=c.fifteenPlan,j=c.thirtyPlan,l(a),o(s),f(n),y(r),C(i),A(j);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){F()}),[n]);var M=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("/api/admin-coupon/"+t);case 2:c=e.sent,200===c.data.status&&alert("Deleted");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("h3",{children:"Admin Coupon"}),Object(b.jsx)("div",{className:"ibox-tools",children:Object(b.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){return t(!0)},children:Object(b.jsx)("i",{className:"fa fa-plus"})})})]}),Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsxs)("table",{className:"table table-bordered",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Code"}),Object(b.jsx)("td",{children:"Discount(%)"}),Object(b.jsx)("td",{children:"Total Sales"}),Object(b.jsx)("td",{children:"Total Orders"}),Object(b.jsx)("td",{children:"Meal Plan"})]})}),Object(b.jsx)("tbody",{children:n.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.promo_code}),Object(b.jsx)("td",{children:e.discount}),Object(b.jsxs)("td",{children:["$",p]}),Object(b.jsx)("td",{children:d}),Object(b.jsxs)("td",{children:[Object(b.jsxs)("span",{children:["2 Meals: ",g]}),Object(b.jsx)("br",{}),Object(b.jsxs)("span",{children:["15 Meals: ",S]}),Object(b.jsx)("br",{}),Object(b.jsxs)("span",{children:["30 Meals: ",D]})]}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{className:"btn btn-danger",onClick:function(){return M(e._id)},children:"Delete"})})]},t)}))})]})})]})}function Bt(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!1),l=Object(r.a)(n,2),i=l[0],j=l[1],d=Object(a.useState)({}),o=Object(r.a)(d,2),u=o[0],h=o[1],p=function(){return j(!1)},f=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/coupon/");case 2:return t=e.sent,e.next=5,t.data;case 5:c=e.sent,s(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){f()}),[]);var v=function(e){var t=e.target;h((function(e){return Object(q.a)(Object(q.a)({},e),{},Object($e.a)({},t.name,t.value))}))},N=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/admin-coupon/",u);case 2:200===(t=e.sent).status&&(j(!1),alert(t.data.msg));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"wrapper wrapper-content",children:[Object(b.jsx)($t,{showModal:function(e){return j(e)}}),Object(b.jsx)("div",{className:"row-lg",children:Object(b.jsx)(se,{title:"Coupons",data:c,columns:Q,className:"table-responsive table-sm"})}),Object(b.jsxs)(Pt.a,{show:i,onHide:p,children:[Object(b.jsx)(Pt.a.Header,{closeButton:!0,children:Object(b.jsx)(Pt.a.Title,{children:"Generate Coupon"})}),Object(b.jsxs)(Pt.a.Body,{children:[Object(b.jsx)(Le,{label:"Promo Text",required:!0,name:"promo_text",type:"text",handler:v}),Object(b.jsx)(Le,{label:"Promo Code",required:!0,name:"promo_code",type:"text",handler:v}),Object(b.jsx)(Le,{label:"Discount (%)",required:!0,name:"discount",type:"text",handler:v})]}),Object(b.jsxs)(Pt.a.Footer,{children:[Object(b.jsx)(Rt.a,{variant:"secondary",onClick:p,children:"Close"}),Object(b.jsx)(Rt.a,{variant:"primary",onClick:N,children:"Save Changes"})]})]})]})}function Lt(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),i=Object(r.a)(n,2),j=i[0],d=i[1],o=Object(a.useState)(!1),u=Object(r.a)(o,2),h=u[0],p=u[1],f=Object(a.useState)(!1),v=Object(r.a)(f,2),N=v[0],g=v[1],y=Object(l.h)().id;if(Object(a.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var a,n,l,i;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([x.a.get("/api/coupon/".concat(t)),x.a.get("/api/coupon/getcouponforchef/".concat(c.restaurant_id,"/").concat(c.status))]);case 2:a=e.sent,n=Object(r.a)(a,2),l=n[0],i=n[1],s(l.data),g(!0),d(i.data.promotedOrders),p(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e(y)}),[y]),h&&N){var w=c.status,_=c.promo_id,S=c.restaurant_id,C=c.category,k=c.plan_name,T=c.discount_type,D=c.promo_code,A=c.price,F=c.discount,M=c.absolute_value,E=c.start_date,I=c.end_date;return Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("span",{className:"label float-right ".concat("Active"===w?"label-success":"label-warning"),children:w}),Object(b.jsx)("h5",{children:"Coupon Details"})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Promotion ID"}),Object(b.jsx)("h4",{children:_})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Restaurant ID"}),Object(b.jsx)("h4",{children:S})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Category"}),Object(b.jsx)("h4",{children:C})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Plan Name"}),Object(b.jsx)("h4",{children:k})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Discount Type"}),Object(b.jsx)("h4",{children:T})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Code"}),Object(b.jsx)("h4",{children:D})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Base Price"}),Object(b.jsx)("h4",{children:A})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Value"}),Object(b.jsx)("h4",{children:F})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Absolute Value"}),Object(b.jsx)("h4",{children:M})]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Total Used"}),Object(b.jsx)("h4",{children:j.length})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Start Date"}),Object(b.jsx)("h4",{children:E})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"End Date"}),Object(b.jsx)("h4",{children:I})]})]}),Object(b.jsxs)("table",{className:"table table-bordered mt-4",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"User ID"}),Object(b.jsx)("th",{children:"Order ID"}),Object(b.jsx)("th",{children:"Meal Type"}),Object(b.jsx)("th",{children:"Ordered At"}),Object(b.jsx)("th",{children:"Discount"})]})}),Object(b.jsx)("tbody",{children:j.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.user_id}),Object(b.jsx)("td",{children:e.order_id}),Object(b.jsx)("td",{children:e.meal_type}),Object(b.jsx)("td",{children:z()(e.order_time).format("DD/MMM/YYYY")}),Object(b.jsx)("td",{children:"$"+e.discount})]},t)}))})]})]})]})}return null}function Vt(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),i=Object(r.a)(n,2),j=i[0],d=i[1],o=Object(a.useState)(""),u=Object(r.a)(o,2),h=u[0],p=u[1],f=Object(a.useState)(""),v=Object(r.a)(f,2),N=v[0],g=v[1],y=Object(a.useState)(""),w=Object(r.a)(y,2),_=w[0],S=w[1],C=Object(a.useState)(0),k=Object(r.a)(C,2),T=k[0],D=k[1],A=Object(a.useState)(""),F=Object(r.a)(A,2),M=F[0],E=F[1],I=Object(a.useState)(!1),P=Object(r.a)(I,2),R=P[0],q=P[1],$=Object(a.useState)(!1),B=Object(r.a)($,2),L=B[0],V=B[1],U=Object(l.h)().id,K=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,a,n,r,l,i,j;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/promo/"+t);case 2:c=e.sent,a=c.data,n=a.coupons,r=a.total_base_income,l=a.discount,i=a.unique_users,j=a.promotedOrders,s(n),S(n.clicks),p(l),g(n.due),D(r),E(i),d(j),q(!0),V(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,a,s,n,r,l,i,d,o,b,u,O,p,f,v,g,y,w,S,C;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!1),e.next=3,x.a.get("/api/newrest/getchefbyId/"+c.restaurant_id);case 3:return t=e.sent,e.next=6,t.data;case 6:return a=e.sent,s=a.restaurant_name,n=c.promo_id,r=c.restaurant_id,l=c.plan_name,i=c.rpc,d=c.duration,o=c.discount_type,b=c.meal_plan,u=c.promo_code,O=c.start_date,p=c.end_date,f={promo_id:n,restaurant_id:r,plan_name:l,rpc:i,duration:d,status:"Inactive",discount_type:o,meal_plan:b,discount:c.discount,totalDiscount:h,promo_code:u,start_date:O,end_date:p,clicks:_,due:N,paid:0,users:M,orders:j,revenue:T,deactivation_date:z()()},e.next=12,x.a.put("/api/promo/"+U,{status:"Inactive"});case 12:return e.next=14,x.a.get("/api/chefdashboard/"+r);case 14:return v=e.sent,e.next=17,v.data;case 17:return g=e.sent,y=g.dashboard,e.next=21,y;case 21:return w=e.sent,S=w.banners,(C=Object(qe.a)(S)).push(f),e.next=27,x.a.put("/api/chefdashboard/"+s+"/"+y._id,{banners:C});case 27:alert("Updated"),q(!0);case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){K(U)}),[U]),R&&L?Object(b.jsx)("div",{className:"wrapper wrapper-content",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("h5",{children:"Campaign Details"}),Object(b.jsxs)("div",{className:"ibox-tools",children:[Object(b.jsx)("span",{className:"".concat("active"===c.status?"label mr-2 label-success":"label mr-2 label-inactive"),children:c.status}),Object(b.jsx)("button",{type:"button",className:"btn btn-sm btn-danger",onClick:H,children:"Deactivate"})]})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Promotion ID"}),Object(b.jsx)("h4",{children:c.promo_id})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Restaurant ID"}),Object(b.jsx)("h4",{children:c.restaurant_id})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Category"}),Object(b.jsx)("h4",{children:c.meal_plan})]})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Plan Name"}),Object(b.jsx)("h4",{children:c.plan_name})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Discount"}),Object(b.jsx)("h4",{children:"%"===c.discount_type?c.discount+""+c.discount_type:c.discount_type+""+c.discount})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Code"}),Object(b.jsx)("h4",{children:c.promo_code})]})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Total Clicks"}),Object(b.jsx)("h4",{children:_})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Rate/Click"}),Object(b.jsx)("h4",{children:c.rpc})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Total Due"}),Object(b.jsxs)("h4",{children:["$",N]})]})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Total Users"}),Object(b.jsx)("h4",{children:M})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Start Date"}),Object(b.jsx)("h4",{children:c.start_date})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"End Date"}),Object(b.jsx)("h4",{children:c.end_date})]})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Total Orders"}),Object(b.jsx)("h4",{children:j.length})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Total Revenue"}),Object(b.jsxs)("h4",{children:["$",T]})]}),Object(b.jsxs)("div",{className:"col-lg-4",children:[Object(b.jsx)("small",{className:"stats-label",children:"Discount Paid"}),Object(b.jsxs)("h4",{children:["$",h]})]})]})]}),Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsxs)("table",{className:"table table-bordered table-mail",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"User ID"}),Object(b.jsx)("th",{children:"Order ID"}),Object(b.jsx)("th",{children:"Meal Type"}),Object(b.jsx)("th",{children:"Ordered At"}),Object(b.jsx)("th",{children:"Discount"})]})}),Object(b.jsx)("tbody",{children:j.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.user_id}),Object(b.jsx)("td",{children:e.order_id}),Object(b.jsx)("td",{children:e.meal_type}),Object(b.jsx)("td",{children:z()(e.order_time).format("DD-MMM-YYYY hh:mm:ss")}),Object(b.jsx)("td",{children:"$"+e.discount})]},t)}))})]})})]})}):Object(b.jsx)(Ce,{})}function zt(e){var t=e.card,c=e.closeHandler;return Object(b.jsxs)(Pt.a.Dialog,{children:[Object(b.jsx)(Pt.a.Header,{children:Object(b.jsxs)(Pt.a.Title,{children:["Used ",t.brand," card"]})}),Object(b.jsx)(Pt.a.Body,{children:Object(b.jsxs)("p",{children:["Card Holder: ",t.card_holder,Object(b.jsx)("hr",{}),"Card Number: ",t.number,Object(b.jsx)("hr",{}),"Expiry Date: ",t.expiry,Object(b.jsx)("hr",{}),"CVC: ",t.cvc]})}),Object(b.jsx)(Pt.a.Footer,{children:Object(b.jsx)(Rt.a,{variant:"secondary",onClick:function(){return c(!1)},children:"Close"})})]})}var Ut=c(96),Kt=function(){var e=Object(l.h)().id,t=Object(a.useState)(!1),c=Object(r.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)({}),j=Object(r.a)(i,2),d=j[0],o=j[1];Object(a.useEffect)((function(){var t=function(){var t=Object(O.a)(Object(m.a)().mark((function t(){var c,a;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("/api/orders/"+e);case 2:return c=t.sent,t.next=5,c.data;case 5:a=t.sent,o(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=!0;return c&&t(),function(){c=!1}}),[e]);var u=d.order_time,h=d.add_on,p=d.time,f=d.address,v=d.category,N=d.discount,g=d.email_id,y=d.end_date,w=d.meal_type,_=d.notes,S=d.order_id,C=d.card,k=d.phone,T=d.plan_name,D=d.customer_price,A=d.delivery_fee,F=d.restaurant_id,M=d.service_rate,E=d.service_fee,I=d.taxes,P=d.tax,R=d.tip,q=d.total,$=d.restaurant,B=d.start_date,L=d.user_id,V=d.user_name,z=d.restaurant_address,U=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/orders/fetch-pdf",{responseType:"blob"});case 2:t=e.sent,c=new Blob([t.data],{type:"application/pdf"}),Object(Ut.saveAs)(c,"receipt.pdf");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s?Object(b.jsx)(zt,{card:C,closeHandler:function(e){n(e)}}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"row wrapper border-bottom white-bg page-heading",children:[Object(b.jsx)("div",{className:"col-lg-8",children:Object(b.jsx)("h2",{children:"Order Details"})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsx)("div",{className:"title-action",children:Object(b.jsxs)("button",{onClick:U,className:"btn btn-primary",children:[Object(b.jsx)("i",{className:"fa fa-print"})," Print Invoice"," "]})})})]}),Object(b.jsx)("div",{className:"wrapper wrapper-content",children:Object(b.jsxs)("div",{className:"ibox-content p-xl",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-sm-6",children:[Object(b.jsx)("h5",{children:"From:"}),Object(b.jsxs)("address",{children:[Object(b.jsx)("strong",{children:$+","+F}),Object(b.jsx)("br",{}),(z&&z.locality)+", "+(z&&z.city),Object(b.jsx)("br",{}),z&&z.state+" -"+z&&z.postal_code,Object(b.jsx)("br",{}),Object(b.jsx)("abbr",{title:"Phone",children:"P:"})," ",z&&z.phone]})]}),Object(b.jsxs)("div",{className:"col-sm-6 text-right",children:[Object(b.jsx)("h4",{className:"text-navy",children:"#"+S}),Object(b.jsx)("span",{children:"To:"}),Object(b.jsxs)("address",{children:[Object(b.jsx)("strong",{children:V+" ("+L+")"}),Object(b.jsx)("br",{}),f&&f.address_type+", "+f.addressLine1+", "+f.addressLine2,Object(b.jsx)("br",{}),f&&f.city+", "+f.postal_code,Object(b.jsx)("br",{}),Object(b.jsx)("abbr",{title:"Mobile",children:"M:"})," ",k,Object(b.jsx)("br",{}),Object(b.jsx)("abbr",{title:"Email",children:"E:"})," ",g]}),Object(b.jsx)("p",{children:Object(b.jsxs)("span",{children:[Object(b.jsx)("strong",{children:"Ordered at:"})," ",u]})})]})]}),Object(b.jsx)("div",{className:"table-responsive m-t",children:Object(b.jsxs)("table",{className:"table invoice-table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Plan"}),Object(b.jsx)("th",{children:"Start Date"}),Object(b.jsx)("th",{children:"End Date"}),Object(b.jsx)("th",{children:"Customer Price"})]})}),Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[Object(b.jsx)("div",{children:Object(b.jsx)("strong",{children:T})}),Object(b.jsx)("small",{children:w+", "+v+"-"+p})]}),Object(b.jsx)("td",{children:B}),Object(b.jsx)("td",{children:y}),Object(b.jsx)("td",{children:"$"+parseFloat(D).toFixed(2)})]})})]})}),Object(b.jsx)("table",{className:"table invoice-total",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("strong",{children:"Sub Total :"})}),Object(b.jsxs)("td",{children:["$",D]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("strong",{children:"Delivery Fee :"})}),Object(b.jsxs)("td",{children:["$",A]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsxs)("strong",{children:["Service Fee (",M,"%):"]})}),Object(b.jsxs)("td",{children:["$",parseFloat(E).toFixed(2)]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("strong",{children:"Tip :"})}),Object(b.jsxs)("td",{children:["$",R]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("strong",{children:"Discount :"})}),Object(b.jsxs)("td",{children:["$",N||0]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsxs)("strong",{children:["Taxes (",parseFloat(I).toFixed(2),"%):"]})}),Object(b.jsxs)("td",{children:["$",parseFloat(P).toFixed(2)]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("strong",{children:"TOTAL :"})}),Object(b.jsxs)("td",{children:["$",parseFloat(q).toFixed(2)]})]})]})}),Object(b.jsxs)("div",{className:"well m-t",children:[Object(b.jsx)("strong",{children:"Comments: "}),_]}),Object(b.jsx)("div",{className:"well m-t",children:Object(b.jsxs)("table",{className:"table table-bordered table-sm",children:[Object(b.jsx)("thead",{className:"thead-primary",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Item"}),Object(b.jsx)("th",{scope:"col",children:"Rate"}),Object(b.jsx)("th",{scope:"col",children:"Qty"}),Object(b.jsx)("th",{scope:"col",children:"Order Date"})]})}),Object(b.jsx)("tbody",{children:Array.isArray(h)&&0!==h.length?h.map((function(e){return e.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"td",children:e.item}),Object(b.jsx)("td",{children:e.rate}),Object(b.jsx)("td",{children:e.qty}),Object(b.jsx)("td",{children:e.order_date})]},t)}))})):Object(b.jsx)("tr",{className:"text-center",children:Object(b.jsx)("td",{colSpan:4,children:"No add-on for this user"})})})]})})]})})]})};function Ht(e){var t=e.address;return Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-1",children:Object(b.jsx)("h4",{children:"Type"})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)("h4",{children:"Address"})}),Object(b.jsx)("div",{className:"col-2",children:Object(b.jsx)("h4",{children:"City"})}),Object(b.jsx)("div",{className:"col-1",children:Object(b.jsx)("h4",{children:"State"})}),Object(b.jsx)("div",{className:"col-2",children:Object(b.jsx)("h4",{children:"Country"})}),Object(b.jsx)("div",{className:"col-2",children:Object(b.jsx)("h4",{children:"Postal Code"})})]}),t.map((function(e,t){return Object(b.jsxs)("div",{className:"row my-2",children:[Object(b.jsx)("div",{className:"col-1",children:Object(b.jsx)("small",{className:"stats-label text-uppercase",children:e.address_type||""})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsxs)("small",{className:"stats-label",children:[e.addressLine1||""," ",Object(b.jsx)("br",{}),e.addressLine2||""]})}),Object(b.jsx)("div",{className:"col-2",children:Object(b.jsx)("small",{className:"stats-label",children:e.city||""})}),Object(b.jsx)("div",{className:"col-1",children:Object(b.jsx)("small",{className:"stats-label",children:e.states||""})}),Object(b.jsx)("div",{className:"col-2",children:Object(b.jsx)("small",{className:"stats-label",children:e.country||""})}),Object(b.jsx)("div",{className:"col-2",children:Object(b.jsx)("small",{className:"stats-label",children:e.postal_code||""})})]},t)}))]})}function Yt(e){var t=e.cards;return Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("h4",{children:"Brand"})}),Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("h4",{children:"Card Number"})}),Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("h4",{children:"Card Holder"})}),Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("h4",{children:"Expiry Date"})})]}),t.map((function(e,t){return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("small",{className:"stats-label",children:e.brand})}),Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("small",{className:"stats-label",children:e.number})}),Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("small",{className:"stats-label",children:e.card_holder})}),Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("small",{className:"stats-label",children:e.expiry})})]},t)}))]})}function Wt(e){var t=e.user;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-4",children:[Object(b.jsx)("h4",{children:"User ID"}),Object(b.jsx)("small",{className:"stats-label",children:t.user_id})]}),Object(b.jsxs)("div",{className:"col-4",children:[Object(b.jsx)("h4",{children:"First Name"}),Object(b.jsx)("small",{className:"stats-label",children:t.first_name})]}),Object(b.jsxs)("div",{className:"col-4",children:[Object(b.jsx)("h4",{children:"Last Name"}),Object(b.jsx)("small",{className:"stats-label",children:t.last_name})]}),Object(b.jsxs)("div",{className:"col-4",children:[Object(b.jsx)("h4",{children:"Phone"}),Object(b.jsx)("small",{className:"stats-label",children:t.phone})]}),Object(b.jsxs)("div",{className:"col-4",children:[Object(b.jsx)("h4",{children:"Email"}),Object(b.jsx)("small",{className:"stats-label",children:t.email_id})]}),Object(b.jsxs)("div",{className:"col-4",children:[Object(b.jsx)("h4",{children:"Status"}),Object(b.jsx)("small",{className:"stats-label",children:t.status})]})]})}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h4",{children:"Favorite Restaurants"}),t.favorite.map((function(e,t){return Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)("h4",{children:e})})},t)}))]})]})}function Gt(){var e=Object(l.h)().id,t=Object(a.useState)({}),c=Object(r.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)(!1),j=Object(r.a)(i,2),d=j[0],o=j[1],u=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/users/".concat(t));case 2:c=e.sent,a=c.data,n(a),o(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){u(e)}),[e]),Object(b.jsx)("div",{className:"wrapper wrapper-content",children:d?Object(b.jsxs)(ct.a,{defaultActiveKey:"personal",children:[Object(b.jsx)(at.a,{eventKey:"personal",title:"Personal Details",children:Object(b.jsx)(Wt,{user:s})}),Object(b.jsx)(at.a,{eventKey:"address",title:"Address Details",children:Object(b.jsx)(Ht,{address:s.addresses})}),Object(b.jsx)(at.a,{eventKey:"payment",title:"Payment Details",children:Object(b.jsx)(Yt,{cards:s.cards})})]}):Object(b.jsx)(Ce,{})})}function Jt(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/contacts/");case 2:t=e.sent,c=t.data,s(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(b.jsxs)("div",{className:"ibox-content row mt-2 mx-1 px-0 h-100",children:[Object(b.jsx)("div",{className:"file-manager col-3",children:Object(b.jsxs)("ul",{className:"folder-list pl-3",children:[Object(b.jsx)("li",{className:"my-4",children:Object(b.jsx)("a",{className:"btn btn-block btn-primary compose-mail text-white",href:"/",children:"Compose Mail"})}),Object(b.jsx)("li",{children:Object(b.jsxs)("a",{href:"/",children:[Object(b.jsx)("i",{className:"fa fa-inbox "}),"Inbox",Object(b.jsx)("span",{className:"label label-warning float-right",children:"16"})]})}),Object(b.jsx)("li",{children:Object(b.jsxs)("a",{href:"/",children:[Object(b.jsx)("i",{className:"fa fa-envelope-o"})," Send Mail"]})}),Object(b.jsx)("li",{children:Object(b.jsxs)("a",{href:"/",children:[Object(b.jsx)("i",{className:"fa fa-file-text-o"})," Drafts",Object(b.jsx)("span",{className:"label label-danger float-right",children:"2"})]})}),Object(b.jsx)("li",{children:Object(b.jsxs)("a",{href:"/",children:[Object(b.jsx)("i",{className:"fa fa-trash-o"})," Trash"]})})]})}),Object(b.jsxs)("div",{className:"col-9",children:[Object(b.jsxs)("div",{className:"mail-box-header",children:[Object(b.jsx)("form",{className:"float-right mail-search",children:Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("input",{type:"text",placeholder:"Search email",className:"form-control"}),Object(b.jsx)("span",{className:"input-group-append",children:Object(b.jsx)("button",{type:"button","data-toggle":"tooltip",title:"Search",className:"btn btn-primary",children:Object(b.jsx)("i",{className:"fa fa-search"})})})]})}),Object(b.jsx)("h3",{children:"Inbox (16)"}),Object(b.jsxs)("div",{className:"mail-tools",children:[Object(b.jsx)("button",{className:"btn btn-white mx-1","data-toggle":"tooltip",title:"Refresh inbox",children:Object(b.jsx)("i",{className:"fa fa-refresh"})}),Object(b.jsx)("button",{className:"btn btn-white mx-1","data-toggle":"tooltip",title:"Mark as read",children:Object(b.jsx)("i",{className:"fa fa-eye"})}),Object(b.jsxs)("button",{className:"btn btn-white mx-1","data-toggle":"tooltip",title:"Move to trash",children:[Object(b.jsx)("i",{className:"fa fa-trash-o"})," "]})]})]}),Object(b.jsxs)("div",{className:"mail-box h-75",children:[Object(b.jsx)("table",{className:"table table-hover table-mail",children:Object(b.jsx)("tbody",{children:c.map((function(e,t){return Object(b.jsxs)("tr",{className:"unread",children:[Object(b.jsx)("td",{className:"mail-ontact",children:Object(b.jsx)("small",{children:e.sender_name})}),Object(b.jsx)("td",{className:"mail-subject",children:Object(b.jsx)("small",{children:e.subject})}),Object(b.jsx)("td",{className:"text-right mail-date",children:Object(b.jsx)("small",{children:z()(e.timestamp).format("DD MMM hh:mm A")})})]},t)}))})}),Object(b.jsxs)("ul",{className:"pagination sticky-bottom",children:[Object(b.jsx)("li",{className:"paginate_button page-item previous disabled",children:Object(b.jsx)("a",{href:"/",className:"page-link",children:"Previous"})}),Object(b.jsx)("li",{className:"paginate_button page-item active",children:Object(b.jsx)("a",{href:"/",className:"page-link",children:"1"})}),Object(b.jsx)("li",{className:"paginate_button page-item ",children:Object(b.jsx)("a",{href:"/",className:"page-link",children:"2"})}),Object(b.jsx)("li",{className:"paginate_button page-item ",children:Object(b.jsx)("a",{href:"/",className:"page-link",children:"3"})}),Object(b.jsx)("li",{className:"paginate_button page-item next",children:Object(b.jsx)("a",{href:"/",className:"page-link",children:"Next"})})]})]})]})]})}function Qt(e){var t=e.total;return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-lg-3",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("span",{className:"label label-success float-right",children:"Monthly"}),Object(b.jsx)("h5",{children:"Total"})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h1",{className:"no-margins",children:t}),Object(b.jsxs)("div",{className:"stat-percent font-bold text-info",children:["0% ",Object(b.jsx)("i",{className:"fa fa-bolt"})]}),Object(b.jsx)("small",{children:"Total"})]})]})}),Object(b.jsx)("div",{className:"col-lg-3",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("span",{className:"label label-warning float-right",children:"Monthly"}),Object(b.jsx)("h5",{children:"In Progress"})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h1",{className:"no-margins",children:"0"}),Object(b.jsxs)("div",{className:"stat-percent font-bold text-warning",children:["0% ",Object(b.jsx)("i",{className:"fa fa-level-up"})]}),Object(b.jsx)("small",{children:"In Progress"})]})]})}),Object(b.jsx)("div",{className:"col-lg-3",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("span",{className:"label label-primary float-right",children:"Monthly"}),Object(b.jsx)("h5",{children:"Completed"})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h1",{className:"no-margins",children:"0"}),Object(b.jsxs)("div",{className:"stat-percent font-bold text-success",children:["0% ",Object(b.jsx)("i",{className:"fa fa-level-up"})]}),Object(b.jsx)("small",{children:"Completed"})]})]})}),Object(b.jsx)("div",{className:"col-lg-3",children:Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("span",{className:"label label-danger float-right",children:"Monthly"}),Object(b.jsx)("h5",{children:"Cancelled"})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsx)("h1",{className:"no-margins",children:"0"}),Object(b.jsxs)("div",{className:"stat-percent font-bold text-danger",children:["0% ",Object(b.jsx)("i",{className:"fa fa-level-down"})]}),Object(b.jsx)("small",{children:"Orders cancelled by user"})]})]})})]})}function Xt(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/promo/");case 2:t=e.sent,s(t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){n()}),[]),Object(b.jsxs)("div",{className:"wrapper wrapper-content",children:[Object(b.jsx)(Qt,{total:c.length}),Object(b.jsx)(se,{title:"Campaigns",data:c,columns:X})]})}function Zt(e){var t=e.setLoggedin,c=Object(a.useState)(""),s=Object(r.a)(c,2),n=s[0],l=s[1],i=Object(a.useState)(""),j=Object(r.a)(i,2),d=j[0],o=j[1],u=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("/api/admin-login/login",{email:n,password:d});case 3:c=e.sent,200===c.status&&(t(!0),localStorage.setItem("logged_in_token",JSON.stringify({logged_in:!0}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Wrong username or password");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("section",{className:"d-flex align-items-center justify-content-center gradient-form",children:Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-lg-6 d-flex align-items-center gradient-custom-2",children:Object(b.jsxs)("div",{className:"text-white",children:[Object(b.jsx)("h4",{className:"mb-4",children:"Feasti Dash Inc."}),Object(b.jsx)("p",{className:"small mb-0",children:"Some texts to be written"})]})}),Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("form",{className:"card-body",children:[Object(b.jsx)(Le,{label:"Username",type:"email",name:"email",required:!0,handler:l}),Object(b.jsx)(Le,{label:"Password",type:"password",name:"password",required:!0,handler:o}),Object(b.jsx)("button",{className:"btn btn-primary btn-block gradient-custom-2",type:"button",onClick:u,children:"Log in"})]})})]})})})}function ec(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/review");case 2:t=e.sent,c=t.data,s(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=!0;return e&&n(),function(){e=!1}}),[]),Object(b.jsx)("div",{className:"wrapper wrapper-content",children:Object(b.jsx)(se,{title:"Orders",data:c,flag:!0,columns:te})})}function tc(e){var t=e.title,c=e.columns,a=e.data,s=e.flag,n={columns:c,data:a,id:e.id};return Object(b.jsx)("div",{className:"ibox-content",children:Object(b.jsx)(ae.a,Object(q.a)(Object(q.a)({filterPlaceholder:"Search..."},n),{},{children:Object(b.jsx)(B.a,{title:t,columns:c,data:a,responsive:!0,highlightOnHover:!0,pagination:!0,paginationServer:!0,noHeader:s,dense:s,expandableRows:!1,customStyles:Y})}))})}function cc(){var e=Object(a.useState)({totalBaseIncome:"",totalDiscount:"",numOrders:"",due:"",orders:[],totalAddOns:"",totalAddOnRevenue:"",payout_start_date:"",payout_end_date:""}),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),i=Object(r.a)(n,2),j=i[0],d=i[1],o=Object(a.useState)([]),u=Object(r.a)(o,2),h=u[0],p=u[1],f=Object(l.h)().id,v=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/admintochefpayments/getchefpayout/"+t);case 2:c=e.sent,a=c.data,s(a),d(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/admintochefpayments/getpastpayout/"+t);case 2:c=e.sent,a=c.data,p(a),d(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=!0;return e&&(v(f),N(f)),function(){e=!1}}),[f]);var g=Object(l.g)(),y=c.totalBaseIncome,w=c.totalDiscount,_=c.numOrders,S=c.due,C=c.totalAddOns,k=c.totalAddOnRevenue,T=c.payout_start_date,D=c.payout_end_date;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"ibox my-2",children:[Object(b.jsxs)("div",{className:"ibox-title py-2",children:[Object(b.jsx)("h5",{children:"Current Payout"}),Object(b.jsx)("div",{className:"ibox-tool float-right",children:Object(b.jsx)(U.a,{className:"btn btn-sm btn-warning",to:{pathname:"/commission_tracking/",query:Object(q.a)(Object(q.a)({},c),{},{_id:j}),state:{background:g}},children:"View"})})]}),Object(b.jsxs)("div",{className:"ibox-content",children:[Object(b.jsxs)("div",{className:"form-inline",children:[Object(b.jsx)("h5",{className:"mr-1",children:"Current week activity "}),Object(b.jsx)("span",{className:"mx-1",children:z()(T).format("Do MMM")})," ","-",Object(b.jsxs)("span",{className:"mx-1",children:[" ",z()(D).format("Do MMM")]})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-sm-4 border-right",children:[Object(b.jsx)("h5",{children:"Net Earning"}),Object(b.jsxs)("span",{children:["$",parseFloat(parseFloat(y)+parseFloat(k))-parseFloat(S)-parseFloat(w)-.1*parseFloat(parseFloat(y)+parseFloat(k)).toFixed(2)]})]}),Object(b.jsxs)("div",{className:"col-sm-4 border-right",children:[Object(b.jsxs)("div",{className:"form-inline",children:[Object(b.jsx)("h5",{className:"mr-5",children:"Orders"}),Object(b.jsx)("h5",{className:"ml-3",children:"Add-Ons"})]}),Object(b.jsxs)("div",{className:"form-inline",children:[Object(b.jsx)("span",{className:"mr-5",children:_}),Object(b.jsx)("span",{className:"ml-5",children:C})]})]}),Object(b.jsxs)("div",{className:"col-sm-4",children:[Object(b.jsx)("h5",{children:"Next Payment"}),Object(b.jsx)("span",{children:z()(D).add(2,"days").format("Do MMM")})]})]})]})]}),Object(b.jsx)(tc,{title:"Transactions",data:h,columns:ee,flag:!0,id:j})]})}function ac(){var e=Object(a.useState)({totalBaseIncome:"",totalDiscount:"",numOrders:"",due:"",orders:[],totalAddOns:"",totalAddOnRevenue:"",payout_start_date:"",payout_end_date:"",_id:""}),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!1),i=Object(r.a)(n,2),j=i[0],d=i[1],o=Object(l.g)().query;Object(a.useEffect)((function(){s(o),d(!0)}),[o]);var u=c.totalBaseIncome,m=c.totalDiscount,O=c.numOrders,h=c.due,x=c.totalAddOns,p=c.totalAddOnRevenue,f=c._id;return j?Object(b.jsxs)("div",{className:"ibox",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("h5",{children:"Commission Tracking"}),Object(b.jsx)("div",{className:"ibox-tools",children:Object(b.jsx)("a",{className:"close-link",href:"/view_transaction/"+f,children:Object(b.jsx)("i",{className:"fa fa-times"})})})]}),Object(b.jsx)("div",{className:"ibox-content center",children:Object(b.jsxs)("div",{className:"feed-activity-list",children:[Object(b.jsxs)("div",{className:"feed-element",children:[Object(b.jsx)("div",{className:"float-left",children:Object(b.jsx)("h4",{children:"# of orders: "})}),Object(b.jsx)("div",{className:"float-right",children:Object(b.jsx)("h4",{children:O})})]}),Object(b.jsxs)("div",{className:"feed-element",children:[Object(b.jsx)("div",{className:"float-left",children:Object(b.jsx)("h4",{className:"text-bold",children:"# of Add-ons: "})}),Object(b.jsx)("div",{className:"float-right",children:Object(b.jsx)("h4",{className:"text-bold float-right",children:x})})]}),Object(b.jsxs)("div",{className:"feed-element",children:[Object(b.jsx)("div",{className:"float-left",children:Object(b.jsx)("h4",{className:"text-bold",children:"Total Base Order Amt: "})}),Object(b.jsx)("div",{className:"float-right",children:Object(b.jsxs)("h4",{className:"text-bold float-right",children:["$",parseFloat(u).toFixed(2)]})})]}),Object(b.jsxs)("div",{className:"feed-element",children:[Object(b.jsx)("div",{className:"float-left",children:Object(b.jsx)("h4",{className:"text-bold",children:"Total Base Order Commission: "})}),Object(b.jsx)("div",{className:"float-right",children:Object(b.jsxs)("h4",{className:"text-danger float-right",children:["-$",parseFloat(.1*u).toFixed(2)]})})]}),Object(b.jsxs)("div",{className:"feed-element",children:[Object(b.jsx)("div",{className:"float-left",children:Object(b.jsx)("h4",{className:"text-bold",children:"Total Add-ons Amount: "})}),Object(b.jsx)("div",{className:"float-right",children:Object(b.jsxs)("h4",{className:"text-bold float-right",children:["$",parseFloat(p).toFixed(2)]})})]}),Object(b.jsxs)("div",{className:"feed-element",children:[Object(b.jsx)("div",{className:"float-left",children:Object(b.jsx)("h4",{className:"text-bold",children:"Total Add-ons Commission: "})}),Object(b.jsx)("div",{className:"float-right",children:Object(b.jsxs)("h4",{className:"text-danger float-right",children:["- $",parseFloat(.1*p).toFixed(2)]})})]}),Object(b.jsxs)("div",{className:"feed-element",children:[Object(b.jsx)("div",{className:"float-left",children:Object(b.jsx)("h4",{className:"text-bold",children:"Total Discount: "})}),Object(b.jsx)("div",{className:"float-right",children:Object(b.jsxs)("h4",{className:"text-danger float-right",children:["- $",parseFloat(m).toFixed(2)]})})]}),Object(b.jsxs)("div",{className:"feed-element",children:[Object(b.jsx)("div",{className:"float-left",children:Object(b.jsx)("h4",{className:"text-bold",children:"Total Campaign Due: "})}),Object(b.jsx)("div",{className:"float-right",children:Object(b.jsxs)("h4",{className:"text-danger float-right",children:["- $",parseFloat(h).toFixed(2)]})})]}),Object(b.jsxs)("div",{className:"feed-element",children:[Object(b.jsx)("div",{className:"float-left",children:Object(b.jsx)("h4",{className:"text-bold",children:"Total Admin Commission: "})}),Object(b.jsxs)("div",{className:"float-right form-inline align-items-center",children:[Object(b.jsxs)("h4",{className:"float-right mx-1 align-items-center text-info",children:["-$",parseFloat(.1*(p+u)).toFixed(2)]}),Object(b.jsx)(U.a,{className:"text-primary",to:{pathname:"/commission_history",query:{query:o}},children:Object(b.jsx)("i",{className:"fa fa-history"})})]})]})]})})]}):Object(b.jsx)("div",{children:"Loading..."})}function sc(){var e=Object(l.f)(),t=Object(a.useState)({restID:"",chefBalance:0,account_number:0,bank_name:0,branch_number:0,institution_number:0,payout_start_date:"",payout_end_date:""}),c=Object(r.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)(""),j=Object(r.a)(i,2),d=j[0],o=j[1],u=function(t){t.stopPropagation(),e.goBack()},h=Object(l.g)().query;Object(a.useEffect)((function(){var e=!0;return e&&n(h),function(){e=!1}}),[h]);var p=s.restID,f=s.chefBalance,v=s.account_number,N=s.payout_start_date,g=s.payout_end_date,y=s.bank_name,w=s.branch_number,_=s.institution_number,S=function(){var t=Object(O.a)(Object(m.a)().mark((function t(){var c,a,s;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={restaurant_id:p,paid_amount:f,txn_id:d,deposit_date:z()(),start_date:N,end_date:g,status:"Paid"},t.next=3,x.a.post("/api/admintochefpayments/deposit",c);case 3:a=t.sent,200===(s=a.status)?e.goBack():alert(s);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsx)("div",{style:{position:"fixed",display:"flex",top:0,left:0,width:"100%",height:"100%",zIndex:1e3,background:"rgba(0, 0, 0, 0.8)",overflowY:"hidden"},children:Object(b.jsxs)("div",{className:"ibox",style:{position:"absolute",top:"10%",left:"35%",width:400},children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("h4",{children:"Net Banking Details"}),Object(b.jsxs)("small",{children:["You have to pay"," ",Object(b.jsxs)("strong",{className:"text-danger",children:["$",f]})]}),Object(b.jsx)("div",{className:"ibox-tools",children:Object(b.jsx)("button",{className:"close-link",href:"#",onClick:u,children:Object(b.jsx)("i",{className:"fa fa-times"})})})]}),Object(b.jsxs)("div",{className:"ibox-content no-padding",children:[Object(b.jsx)("div",{className:"row px-4 py-4",children:Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsxs)("ul",{className:"list-group clear-list",children:[Object(b.jsxs)("li",{className:"list-group-item fist-item",children:[Object(b.jsx)("span",{className:"float-right",children:v}),Object(b.jsx)("span",{children:"Account No. "})]},"1"),Object(b.jsxs)("li",{className:"list-group-item",children:[Object(b.jsx)("span",{className:"float-right",children:y}),Object(b.jsx)("span",{children:"Bank Name"})]},"2"),Object(b.jsxs)("li",{className:"list-group-item",children:[Object(b.jsx)("span",{className:"float-right",children:w}),Object(b.jsx)("span",{children:"Branch #"})]},"3"),Object(b.jsxs)("li",{className:"list-group-item",children:[Object(b.jsx)("span",{className:"float-right",children:_}),Object(b.jsx)("span",{children:"Instituion #"})]},"4")]})})}),Object(b.jsx)("div",{className:"row mx-2 my-2",children:Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Transaction ID",onChange:function(e){return o(e.target.value)}}),Object(b.jsx)("span",{className:"input-group-append",children:Object(b.jsx)("button",{type:"button",className:"btn btn-warning",onClick:S,children:"Submit"})})]})}),Object(b.jsx)("div",{className:"row my-2 mx-2 justify-content-end",children:Object(b.jsx)("button",{type:"button",className:"btn btn-danger btn-outline mx-2 my-2",onClick:u,children:"Close"})})]})]})})}function nc(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(l.f)(),i=Object(l.g)().query,j=function(e){e.stopPropagation(),n.push({pathname:"/commission_tracking",query:i.query})};return Object(a.useEffect)((function(){var e=i.query.orders;s(e)}),[i]),Object(b.jsx)("div",{onClick:j,children:Object(b.jsxs)("div",{className:"ibox scrollable-popup",children:[Object(b.jsxs)("div",{className:"ibox-title",children:[Object(b.jsx)("h4",{children:"Commission History"}),Object(b.jsx)("div",{className:"ibox-tools",children:Object(b.jsx)("button",{className:"close-link",href:"#",onClick:j,children:Object(b.jsx)("i",{className:"fa fa-times"})})})]}),Object(b.jsx)("div",{className:"ibox-content",children:c.map((function(e,t){return Object(b.jsxs)("table",{className:"table table-bordered table-sm",children:[Object(b.jsxs)("thead",{className:"py-0",children:[Object(b.jsx)("td",{children:Object(b.jsxs)("span",{children:["#",e.order_id]})}),Object(b.jsx)("td",{children:Object(b.jsx)("span",{style:{textTransform:"uppercase",color:"accepted"===e.status?"#5ca85c":"started"===e.status?"#ffc300":"#ff4300",fontWeight:"bold",fontSize:"0.875rem"},children:e.status})})]}),Object(b.jsxs)("tbody",{className:"py-0",children:[Object(b.jsxs)("tr",{className:"py-0",children:[Object(b.jsx)("td",{children:"Plan Name"}),Object(b.jsx)("td",{children:"twoPlan"===e.plan?"2 Days":"fifteenPlan"===e.plan?"15 Days":"30 Days"})]}),Object(b.jsxs)("tr",{className:"py-0",children:[Object(b.jsx)("td",{children:"Base Price"}),Object(b.jsxs)("td",{children:["$",parseFloat(e.base_price).toFixed(2)]})]}),Object(b.jsxs)("tr",{className:"py-0",children:[Object(b.jsx)("td",{children:"Discount"}),Object(b.jsxs)("td",{children:["$","PROMOADMIN"!==e.promo_id?parseFloat(e.discount).toFixed(2):0]})]}),Object(b.jsxs)("tr",{className:"py-0",children:[Object(b.jsx)("td",{children:"Commission (8%)"}),Object(b.jsxs)("td",{children:["$",parseFloat(.08*e.base_price).toFixed(2)]})]}),Object(b.jsx)("tr",{children:Object(b.jsx)("td",{colSpan:2,children:Object(b.jsx)("a",{href:"view_order/".concat(e._id),children:Object(b.jsx)("span",{className:"text-center",children:"View"})})})})]})]})}))})]})})}function rc(){var e,t=Object(l.g)(),c=null===(e=t.state)||void 0===e?void 0:e.background;return Object(b.jsxs)(l.c,{location:c||t,children:[Object(b.jsx)(l.a,{path:"/deposit_money/:id",children:Object(b.jsx)(sc,{})}),Object(b.jsx)(l.a,{path:"/commission_history/",children:Object(b.jsx)(nc,{})})]})}var lc=c(97);function ic(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){lc.a.init({appId:"8d2b8f02-2f49-4499-be7c-cfad6c6a9b86"})}),[]),Object(b.jsx)(l.b,{history:j,children:c?Object(b.jsxs)(s.a.Fragment,{children:[Object(b.jsx)(u,{}),Object(b.jsx)(f,{setLoggedIn:n}),Object(b.jsxs)("div",{id:"page-wrapper",className:"gray-bg",children:[Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{exact:!0,path:"/",render:function(){return Object(b.jsx)(R,{})}}),Object(b.jsx)(l.a,{exact:!0,path:"/users",component:De}),Object(b.jsx)(l.a,{exact:!0,path:"/view_user/:id",component:Gt}),Object(b.jsx)(l.a,{exact:!0,path:"/users/:id",component:qt}),Object(b.jsx)(l.a,{exact:!0,path:"/restaurant",render:function(){return Object(b.jsx)(ke,{})}}),Object(b.jsx)(l.a,{exact:!0,path:"/add_restaurant",component:rt}),Object(b.jsx)(l.a,{path:"/view_restaurant/:id",component:ut}),Object(b.jsx)(l.a,{exact:!0,path:"/edit_restaurant/:id",component:wt}),Object(b.jsx)(l.a,{exact:!0,path:"/orders",component:re}),Object(b.jsx)(l.a,{exact:!0,path:"/view_order/:id",component:Kt}),Object(b.jsx)(l.a,{exact:!0,path:"/orders/:id",component:qt}),Object(b.jsx)(l.a,{exact:!0,path:"/coupons",component:Bt}),Object(b.jsx)(l.a,{exact:!0,path:"/view_coupons/:id",component:Lt}),Object(b.jsx)(l.a,{exact:!0,path:"/view_campaign/:id",component:Vt}),Object(b.jsx)(l.a,{exact:!0,path:"/campaign",component:Xt}),Object(b.jsx)(l.a,{exact:!0,path:"/payments",component:de}),Object(b.jsx)(l.a,{exact:!0,path:"/setting",component:It}),Object(b.jsx)(l.a,{exact:!0,path:"/contacts",component:Jt}),Object(b.jsx)(l.a,{exact:!0,path:"/review/",component:ec}),Object(b.jsx)(l.a,{path:"/newrequest/:id",component:Ie}),Object(b.jsx)(l.a,{path:"/newrest/:id",component:qt}),Object(b.jsx)(l.a,{path:"/cuisine/:id",component:qt}),Object(b.jsx)(l.a,{path:"/banner/:id",component:qt}),Object(b.jsx)(l.a,{path:"/policies/:id",component:qt}),Object(b.jsx)(l.a,{path:"/view_transaction/:id",component:cc}),Object(b.jsx)(l.a,{path:"/commission_tracking/",component:ac})]}),Object(b.jsx)(rc,{})]})]}):Object(b.jsx)(Zt,{setLoggedin:n})})}var jc=c(39),dc=c(99),oc=c(98),bc={users:[]};var uc={restaurant:be,profit_margins:[]};var mc={orders:[]};var Oc={plans:[]};var hc=Object(jc.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bc,t=arguments.length>1?arguments[1]:void 0;return"GET_USERS"===t.type?Object(q.a)(Object(q.a)({},e),{},{users:Object(qe.a)(t.payload)}):e},restaurant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uc,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case w:return Object(q.a)(Object(q.a)({},e),{},{id:a});case _:return Object(q.a)(Object(q.a)({},e),{},{restaurant_id:a});case"BASIC_INFO":case S:case C:case k:case"SET_DOCUMENTS":case T:case"SET_PLANS":case"SET_BANK_INFO":case y:case g:return Object(q.a)(Object(q.a)({},e),a);case D:return Object(q.a)(Object(q.a)({},e),{},{profit_margins:a});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mc,t=arguments.length>1?arguments[1]:void 0;return"GET_ORDERS"===t.type?Object(q.a)(Object(q.a)({},e),{},{orders:Object(qe.a)(t.payload)}):e},plans:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:case M:return Object(q.a)(Object(q.a)({},e),{},{plans:t.payload});default:return e}},requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;return c===A?Object(q.a)(Object(q.a)({},e),a):Object(q.a)({},e)}}),xc=Object(jc.createStore)(hc,{users:[],requests:[],restaurant:{},orders:[]},Object(oc.composeWithDevTools)(Object(jc.applyMiddleware)(dc.a))),pc=document.getElementById("wrapper");Object(n.createRoot)(pc).render(Object(b.jsx)(N.a,{store:xc,children:Object(b.jsx)(ic,{})}))},68:function(e,t,c){},88:function(e,t,c){}},[[155,1,2]]]);
//# sourceMappingURL=main.5a00d0dc.chunk.js.map